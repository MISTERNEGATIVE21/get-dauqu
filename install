#!/bin/bash

# Stop execution if any command fails
set -e

# 1. Update and upgrade Ubuntu
echo "Updating and upgrading Ubuntu..."
sudo apt-get update && sudo apt-get upgrade -y

# 2. Install Docker
echo "Installing Docker..."
sudo apt-get install -y docker.io

# Ensure the Docker service is started
sudo systemctl start docker
# Enable Docker to start at boot
sudo systemctl enable docker

# Add the current user to the Docker group (optional)
# Note: You'll need to log out and log back in for this to take effect
sudo usermod -aG docker $USER

# 3. Pull a Docker image
# Replace "hello-world" with your desired image
echo "Pulling Docker image..."
docker pull daucu/daucu_frontend

# 4. Run the Docker image on port 3000
# Adjust "hello-world" and port settings according to your needs
echo "Running Docker image on port 3000..."
docker run -d -p 3000:3000 daucu/daucu_frontend

echo "Script execution completed."

(()=>{var e={};e.id=352,e.ids=[352],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},87529:()=>{},40265:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>o.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c}),t(27250),t(79750),t(83646),t(49809),t(77498),t(35866);var a=t(23191),r=t(88716),n=t(37922),o=t.n(n),l=t(95231),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);t.d(s,i);let c=["",{children:["console",{children:["(tempates)",{children:["storage",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,27250)),"C:\\Users\\Harsh singh\\Documents\\daucu\\self-hosted\\daucu\\frontend\\src\\app\\console\\(tempates)\\storage\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,79750)),"C:\\Users\\Harsh singh\\Documents\\daucu\\self-hosted\\daucu\\frontend\\src\\app\\console\\(tempates)\\layout.js"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,83646)),"C:\\Users\\Harsh singh\\Documents\\daucu\\self-hosted\\daucu\\frontend\\src\\app\\console\\layout.jsx"],loading:[()=>Promise.resolve().then(t.bind(t,49809)),"C:\\Users\\Harsh singh\\Documents\\daucu\\self-hosted\\daucu\\frontend\\src\\app\\console\\loading.js"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,77498)),"C:\\Users\\Harsh singh\\Documents\\daucu\\self-hosted\\daucu\\frontend\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\Harsh singh\\Documents\\daucu\\self-hosted\\daucu\\frontend\\src\\app\\console\\(tempates)\\storage\\page.jsx"],u="/console/(tempates)/storage/page",h={require:t,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/console/(tempates)/storage/page",pathname:"/console/storage",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},77713:(e,s,t)=>{Promise.resolve().then(t.bind(t,47831))},35047:(e,s,t)=>{"use strict";var a=t(77389);t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},47831:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var a=t(10326),r=t(17577),n=t(24490),o=t(31190),l=t(35047);function i(e){let s=(0,l.useRouter)(),[t,i]=(0,r.useState)(!1),[c,d]=(0,r.useState)([]);async function u(){i(!0);try{await n.Z.get(`${process.env.NEXT_PUBLIC_API_URL}/v1/storage/get-buckets`,{headers:{"Content-Type":"application/json",Authorization:`${localStorage.getItem("token")}`}}).then(e=>{console.log(e.data),d(e.data),i(!1)}).catch(e=>{console.log(e),i(!1),(0,o.Am)(e.response.data.message,{type:"error"})})}catch(e){setTimeout(()=>{i(!1),(0,o.Am)(e.response?.data?.message,{type:"error"})},1e3)}}let[h,x]=(0,r.useState)(!1),[m,p]=(0,r.useState)(""),[g,b]=(0,r.useState)("ap-south-1"),[j,f]=(0,r.useState)("20"),[v,k]=(0,r.useState)(!1);async function y(){k(!0),await n.Z.post(`${process.env.NEXT_PUBLIC_API_URL}/v1/storage/create-bucket`,{label:m,region:g,size:j},{headers:{Authorization:`${localStorage.getItem("token")}`}}).then(e=>{k(!1),(0,o.Am)(e.data.message,{type:"success"}),x(!1),u()}).catch(e=>{console.log(e),k(!1),(0,o.Am)(e.response.data.message,{type:"error"}),u()})}let[N,_]=(0,r.useState)(null);async function P(e){_(e),await n.Z.delete(`${process.env.NEXT_PUBLIC_API_URL}/v1/storage/delete-bucket/${e}`,{headers:{Authorization:`${localStorage.getItem("token")}`}}).then(e=>{(0,o.Am)(e.data.message,{type:"success"}),_(""),u()}).catch(e=>{console.log(e),_(""),(0,o.Am)(e.response.data.message,{type:"error"}),u()})}return(0,a.jsxs)("div",{children:[a.jsx("div",{className:"flex w-auto h-full flex-col",children:a.jsx("blockquote",{className:"bg-gray-100 border-l-[5px] border-blue-600 dark:border-gray-500 dark:bg-gray-800",children:(0,a.jsxs)("div",{className:"h-auto dark:bg-slate-900 p-3",children:[(0,a.jsxs)("div",{className:"flex flex-col justify-between items-start h-[50px]",children:[a.jsx("h1",{className:"text-xl font-bold dark:text-gray-400 text-black",children:"Daucu Storage"}),a.jsx("span",{className:"text dark:text-gray-400 text-black text-xs",children:"An S3-Compatible Object Storage service offers a robust solution for storing and managing data in an S3-compatible format. It enables secure, scalable, and cost-effective storage, supporting various applications and workloads."})]}),a.jsx("div",{children:a.jsx("button",{className:"btn btn-sm mt-2 rounded-none no-animation dark:btn-info capitalize",onClick:()=>{x(!0)},children:"Create New Bucket"})}),a.jsx("div",{className:"max-h-[75vh] mt-5 overflow-y-scroll",children:t?a.jsx("div",{className:"animate-pulse flex space-x-4",children:(0,a.jsxs)("div",{className:"flex-1 space-y-4 py-1",children:[a.jsx("div",{className:"h-4 bg-slate-400 rounded w-3/4"}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-slate-400 rounded"}),a.jsx("div",{className:"h-4 bg-slate-400 rounded w-5/6"})]})]})}):a.jsx("div",{children:null===c||c?.length===0?a.jsx("div",{className:"h-[20vh] w-full flex justify-center items-center",children:(0,a.jsxs)("p",{className:"text-md font-bold dark:text-gray-400 text-black",children:["No Disk found. Create a new disk to get started."," "]})}):a.jsx("div",{children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"table table-sm",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"dark:bg-slate-700 dark:text-gray-400 text-black bg-slate-200",children:[a.jsx("th",{}),a.jsx("th",{children:"Name"}),a.jsx("th",{children:"Label"}),a.jsx("th",{children:"Size"}),a.jsx("th",{children:"Created AT"}),a.jsx("th",{children:"Action"})]})}),a.jsx("tbody",{children:c&&null!==c&&c?.map((e,t)=>a.jsxs("tr",{className:"dark:bg-slate-700 dark:text-gray-400 text-black bg-slate-200",children:[a.jsx("th",{children:"1"}),a.jsx("td",{children:e?.label}),a.jsx("td",{children:e?.label}),a.jsxs("td",{children:[e?.size," GB SSD ",a.jsx("br",{})]}),a.jsx("td",{children:e?.created_at}),a.jsxs("td",{className:"space-x-1",children:[a.jsx("button",{className:"btn btn-xs rounded-none btn-error no-animation",disabled:N===e?._id,onClick:()=>{_(e?._id),P(e?._id)},children:N===e?._id?"Deleting...":"Delete"}),a.jsx("button",{className:"btn btn-xs rounded-none no-animation",onClick:()=>{s.push(`/console/storage/${e?._id}`)},children:"View â†’"})]})]},t))})]})})})})})]})})}),a.jsx("dialog",{id:"my_modal_4",className:`modal rounded-none ${h?"modal-open":""}`,children:(0,a.jsxs)("form",{method:"dialog",className:"modal-box w-11/12 max-w-5xl rounded-none dark:bg-slate-700 bg-slate-100",children:[a.jsx("h3",{className:"font-bold text-lg",children:"Create a new disk"}),(0,a.jsxs)("div",{className:"py-4",children:[(0,a.jsxs)("label",{className:"block",children:[a.jsx("span",{className:"text-gray-700 dark:text-slate-400",children:"Name*"}),a.jsx("input",{type:"text",className:"input input-sm input-bordered mt-1 block w-full rounded-none bg-slate-200 dark:bg-slate-800 text-black dark:text-white",placeholder:"Enter disk name",value:m,onChange:e=>p(e.target.value)})]}),(0,a.jsxs)("label",{className:"block mt-5",children:[a.jsx("span",{className:"text-gray-700 dark:text-slate-400",children:"Size (GB)*"}),a.jsx("input",{type:"number",className:"input input-sm input-bordered mt-1 block w-full rounded-none bg-slate-200 dark:bg-slate-800 text-black dark:text-white",placeholder:"Enter disk name",value:j,onChange:e=>f(e.target.value)})]}),(0,a.jsxs)("label",{className:"block mt-5",children:[a.jsx("span",{className:"text-gray-700 dark:text-slate-400",children:"Region*"}),a.jsx("select",{className:"select select-bordered select-sm w-full rounded-none bg-slate-200 dark:bg-slate-800 text-black dark:text-white",value:g,onChange:e=>b(e.target.value),children:a.jsx("option",{value:"ap-south-1",children:"Mumbai (India)"})})]})]}),(0,a.jsxs)("div",{className:"modal-action",children:[a.jsx("button",{className:"btn btn-sm rounded-none",onClick:()=>x(!1),children:"Close"}),a.jsx("button",{className:"btn btn-sm rounded-none btn-success",onClick:()=>{y()},disabled:v,children:v?"Creating Disk...":"Create Disk"})]})]})})]})}},27250:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>o,__esModule:()=>n,default:()=>l});var a=t(68570);let r=(0,a.createProxy)(String.raw`C:\Users\Harsh singh\Documents\daucu\self-hosted\daucu\frontend\src\app\console\(tempates)\storage\page.jsx`),{__esModule:n,$$typeof:o}=r;r.default;let l=(0,a.createProxy)(String.raw`C:\Users\Harsh singh\Documents\daucu\self-hosted\daucu\frontend\src\app\console\(tempates)\storage\page.jsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[948,908,621,434,490,686],()=>t(40265));module.exports=a})();
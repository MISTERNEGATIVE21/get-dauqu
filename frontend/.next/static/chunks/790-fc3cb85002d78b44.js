"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[790],{16463:function(e,a,t){var s=t(71169);t.o(s,"usePathname")&&t.d(a,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(a,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(a,{useSearchParams:function(){return s.useSearchParams}})},10790:function(e,a,t){t.d(a,{Z:function(){return o}});var s=t(57437),l=t(2265),d=t(42126),n=t(95956),r=t(16463),c=t(20357);function o(e){var a,t,o,i,x;(0,r.useRouter)();let[m,u]=(0,l.useState)(!1),[h,b]=(0,l.useState)(null);async function v(){u(!0);try{await d.Z.get("".concat(c.env.NEXT_PUBLIC_API_URL,"/v1/auth/profile"),{headers:{"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("token"))}}).then(e=>{b(e.data),u(!1)}).catch(e=>{var a,t;u(!1),(0,n.Am)(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})})}catch(e){setTimeout(()=>{var a,t;u(!1),(0,n.Am)(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})},1e3)}}let[p,j]=(0,l.useState)(!1),[k,N]=(0,l.useState)([]);async function g(){j(!0);try{await d.Z.get("".concat(c.env.NEXT_PUBLIC_API_URL,"/v1/auth/my-address"),{headers:{"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("token"))}}).then(e=>{N(null==e?void 0:e.data),j(!1)}).catch(e=>{var a,t;j(!1),(0,n.Am)(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})})}catch(e){setTimeout(()=>{var a,t;j(!1),(0,n.Am)(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})},1e3)}}let[y,f]=(0,l.useState)(!1),[w,C]=(0,l.useState)(!1),[A,S]=(0,l.useState)(""),[_,z]=(0,l.useState)(""),[P,I]=(0,l.useState)(""),[R,T]=(0,l.useState)(""),[U,E]=(0,l.useState)(""),[L,Z]=(0,l.useState)("");async function B(){f(!0);try{await d.Z.post("".concat(c.env.NEXT_PUBLIC_API_URL,"/v1/auth/add-address"),{company_name:A,country:_,state:P,city:R,address:U,zip_code:L},{headers:{"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("token"))}}).then(e=>{b(e.data),f(!1),g()}).catch(e=>{var a,t;f(!1),(0,n.Am)(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})})}catch(e){setTimeout(()=>{var a,t;f(!1),(0,n.Am)(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})},1e3)}}let[M,X]=(0,l.useState)(null);async function q(e){X(e),await d.Z.delete("".concat(c.env.NEXT_PUBLIC_API_URL,"/v1/auth/remove-address/").concat(e),{headers:{Authorization:"".concat(localStorage.getItem("token"))}}).then(e=>{(0,n.Am)(e.data.message,{type:"success"}),X(""),g()}).catch(e=>{X(""),(0,n.Am)(e.response.data.message,{type:"error"})})}return(0,l.useEffect)(()=>{v(),g()},[]),(0,s.jsxs)("div",{className:"dark:bg-slate-800 bg-slate-200 w-full relative overflow-y-scroll h-full",children:[(0,s.jsx)("dialog",{id:"my_modal_4",className:"modal rounded-sm ".concat(w?"modal-open":""),children:(0,s.jsxs)("form",{method:"dialog",className:"modal-box w-11/12 max-w-5xl rounded-sm dark:bg-slate-700 bg-slate-100",children:[(0,s.jsx)("h3",{className:"font-bold text-lg dark:text-gray-400 text-black",children:"Create a new address"}),(0,s.jsxs)("div",{className:"py-4",children:[(0,s.jsxs)("label",{className:"block",children:[(0,s.jsx)("span",{className:"text-gray-700 dark:text-slate-400 text-sm",children:"Company Name (Optional)"}),(0,s.jsx)("input",{type:"text",className:"input input-sm input-bordered bg-slate-200 dark:bg-slate-800 text-slate-800 dark:text-slate-200 mt-1 block w-full rounded-none",placeholder:"Company Name",value:A,onChange:e=>S(e.target.value)})]}),(0,s.jsxs)("label",{className:"block mt-5",children:[(0,s.jsx)("span",{className:"text-gray-700 dark:text-slate-400 text-sm",children:"Country"}),(0,s.jsx)("input",{type:"text",className:"input input-sm input-bordered bg-slate-200 dark:bg-slate-800 text-slate-800 dark:text-slate-200 mt-1 block w-full rounded-none",placeholder:"Country",value:_,onChange:e=>z(e.target.value)})]}),(0,s.jsxs)("label",{className:"block mt-5",children:[(0,s.jsx)("span",{className:"text-gray-700 dark:text-slate-400 text-sm",children:"State / Province"}),(0,s.jsx)("input",{type:"text",className:"input input-sm input-bordered bg-slate-200 dark:bg-slate-800 text-slate-800 dark:text-slate-200 mt-1 block w-full rounded-none",placeholder:"State",value:P,onChange:e=>I(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsxs)("label",{className:"block mt-5 w-full",children:[(0,s.jsx)("span",{className:"text-gray-700 dark:text-slate-400 text-sm",children:"City"}),(0,s.jsx)("input",{type:"text",className:"input input-sm input-bordered bg-slate-200 dark:bg-slate-800 text-slate-800 dark:text-slate-200 mt-1 block w-full rounded-none",placeholder:"City",value:R,onChange:e=>T(e.target.value)})]}),(0,s.jsxs)("label",{className:"block mt-5 w-full",children:[(0,s.jsx)("span",{className:"text-gray-700 dark:text-slate-400 text-sm",children:"Pin Code / Zip Code"}),(0,s.jsx)("input",{type:"Zip Code",className:"input input-sm input-bordered bg-slate-200 dark:bg-slate-800 text-slate-800 dark:text-slate-200 mt-1 block w-full rounded-none",placeholder:"Enter disk name",value:L,onChange:e=>Z(e.target.value)})]})]}),(0,s.jsxs)("label",{className:"block mt-5",children:[(0,s.jsx)("span",{className:"text-gray-700 dark:text-slate-400 text-sm",children:"Street address"}),(0,s.jsx)("textarea",{type:"address",className:"textarea textarea-sm textarea-bordered bg-slate-200 dark:bg-slate-800 text-slate-800 dark:text-slate-200 mt-1 block w-full rounded-none",placeholder:"Street address",value:U,onChange:e=>E(e.target.value)})]})]}),(0,s.jsxs)("div",{className:"modal-action",children:[(0,s.jsx)("button",{className:"btn btn-sm rounded-sm",onClick:()=>C(!1),children:"Close"}),(0,s.jsx)("button",{className:"btn btn-sm rounded-sm btn-success",onClick:()=>{B()},disabled:y,children:y?"Adding Address...":"Add Address"})]})]})}),(0,s.jsx)("div",{className:"flex w-auto h-full flex-col relative",children:(0,s.jsx)("blockquote",{className:"dark:border-gray-500 dark:bg-gray-800 inset-0 bottom-0 absolute",children:(0,s.jsxs)("div",{className:"h-auto space-y-2 relative",children:[(0,s.jsxs)("div",{className:"collapse collapse-arrow join-item border dark:border-base-300 border-blue-200 bg-white dark:bg-slate-900 rounded-none",children:[(0,s.jsx)("input",{type:"radio",name:"my-accordion-1",checked:"checked"}),(0,s.jsx)("div",{className:"collapse-title text-xl font-medium dark:text-gray-400 text-black",children:"Account"}),(0,s.jsxs)("div",{className:"collapse-content flex flex-col dark:text-gray-400 text-black",children:[(0,s.jsx)("div",{className:"mt-2",children:m?(0,s.jsx)("div",{className:"animate-pulse flex space-x-4",children:(0,s.jsxs)("div",{className:"flex-1 space-y-4 py-1",children:[(0,s.jsx)("div",{className:"h-4 bg-slate-400 rounded w-3/4"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"h-4 bg-slate-400 rounded"}),(0,s.jsx)("div",{className:"h-4 bg-slate-400 rounded w-5/6"})]})]})}):(0,s.jsxs)("div",{className:"max-h-[65vh]",children:[(0,s.jsxs)("div",{className:"p-2 text-slate-900 dark:text-slate-200 dark:border-gray-500 border-l-2 border-blue-600",children:[(0,s.jsx)("span",{className:"font-bold",children:"Full Name:"})," ",null!==(a=null==h?void 0:h.fullname)&&void 0!==a?a:"NoN"]}),(0,s.jsxs)("div",{className:"p-2 border-l-2 border-blue-600 dark:border-gray-500 text-slate-900 dark:text-slate-200 mt-2",children:[(0,s.jsx)("span",{className:"font-bold",children:"Email:"})," ",null!==(t=null==h?void 0:h.email)&&void 0!==t?t:"NoN"]}),(0,s.jsxs)("div",{className:"p-2 border-l-2 border-blue-600 dark:border-gray-500 text-slate-900 dark:text-slate-200 mt-2",children:[(0,s.jsx)("span",{className:"font-bold",children:"Phone:"})," ",null!==(o=null==h?void 0:h.phone)&&void 0!==o?o:"NoN"]}),(0,s.jsxs)("div",{className:"p-2 border-l-2 border-blue-600 dark:border-gray-500 text-slate-900 dark:text-slate-200 mt-2",children:[(0,s.jsx)("span",{className:"font-bold",children:"Username:"})," ",null!==(i=null==h?void 0:h.username)&&void 0!==i?i:"NoN"]}),(0,s.jsxs)("div",{className:"p-2 border-l-2 border-blue-600 dark:border-gray-500 text-slate-900 dark:text-slate-200 mt-2",children:[(0,s.jsx)("span",{className:"font-bold",children:"Country:"})," ",null!==(x=null==h?void 0:h.country)&&void 0!==x?x:"NoN"]})]})}),(0,s.jsx)("div",{className:"flex w-full justify-start mt-5",children:(0,s.jsx)("button",{className:"btn rounded-none btn-sm btn-wide mt-5 outline-dashed outline-black dark:outline-white outline-[2px] no-animation disabled:bg-slate-500 disabled:text-white",children:"Update info"})})]})]}),(0,s.jsxs)("div",{className:"collapse collapse-arrow join-item border dark:border-base-300 border-blue-200 bg-white dark:bg-slate-900 rounded-none",children:[(0,s.jsx)("input",{type:"radio",name:"my-accordion-2",checked:"checked"}),(0,s.jsx)("div",{className:"collapse-title text-xl font-medium dark:text-gray-400 text-black",children:"Address"}),(0,s.jsxs)("div",{className:"collapse-content flex flex-col dark:text-gray-400 text-black",children:[(0,s.jsx)("div",{className:"",children:p?(0,s.jsx)("div",{className:"animate-pulse flex space-x-4",children:(0,s.jsxs)("div",{className:"flex-1 space-y-4 py-1",children:[(0,s.jsx)("div",{className:"h-4 bg-slate-400 rounded w-3/4"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"h-4 bg-slate-400 rounded"}),(0,s.jsx)("div",{className:"h-4 bg-slate-400 rounded w-5/6"})]})]})}):(0,s.jsx)("table",{className:"table",children:(0,s.jsx)("tbody",{className:"rounded-md mt-2 space-y-2",children:k&&k.map((e,a)=>(0,s.jsxs)("tr",{className:"border dark:border-gray-800 rounded-lg",children:[(0,s.jsx)("td",{children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"avatar",children:(0,s.jsx)("div",{className:"mask mask-squircle w-8 h-8 items-center flex justify-center text-center bg-slate-500 p-2",children:(0,s.jsx)("div",{children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"#ffffff",class:"bi bi-building",viewBox:"0 0 16 16",children:[(0,s.jsx)("path",{d:"M4 2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zM4 5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zM7.5 5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm2.5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zM4.5 8a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm2.5.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5zm3.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5z"}),(0,s.jsx)("path",{d:"M2 1a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zm11 0H3v14h3v-2.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5V15h3z"})]})})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-bold text-black dark:text-slate-200",children:"Office"}),(0,s.jsx)("div",{className:"text-sm text-black dark:text-slate-200",children:null==e?void 0:e.address})]})]})}),(0,s.jsxs)("td",{className:"text-black dark:text-slate-200",children:["Country:",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"text-black dark:text-slate-200",children:null==e?void 0:e.country})]}),(0,s.jsxs)("td",{className:"text-black dark:text-slate-200",children:["State:",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"text-black dark:text-slate-200",children:null==e?void 0:e.state})]}),(0,s.jsxs)("td",{className:"text-black dark:text-slate-200",children:["City:",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"text-black dark:text-slate-200",children:null==e?void 0:e.city})]}),(0,s.jsxs)("td",{className:"text-black dark:text-slate-200",children:["Zip Code:",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"text-black dark:text-slate-200",children:null==e?void 0:e.zip_code})]}),(0,s.jsx)("th",{children:(0,s.jsx)("button",{className:"btn rounded-none btn-xs outline-dashed outline-black btn-error dark:outline-white outline-[1px] no-animation disabled:bg-slate-500 disabled:text-white",disabled:M===e._id,onClick:()=>{q(null==e?void 0:e._id)},children:M===e._id?"Removing...":"Remove"})})]},a))})})}),(0,s.jsx)("div",{className:"flex w-full justify-start mt-5",children:(0,s.jsx)("button",{className:"btn rounded-none btn-sm btn-wide mt-5 outline-dashed outline-black dark:outline-white outline-[2px] no-animation disabled:bg-slate-500 disabled:text-white",onClick:()=>C(!0),children:"Add Address"})})]})]}),(0,s.jsxs)("div",{className:"collapse collapse-arrow join-item border dark:border-base-300 border-blue-200 bg-white dark:bg-slate-900 rounded-none",children:[(0,s.jsx)("input",{type:"radio",name:"my-accordion-3",checked:"checked"}),(0,s.jsx)("div",{className:"collapse-title text-xl font-medium dark:text-gray-400 text-black",children:"Delete Account"}),(0,s.jsx)("div",{className:"collapse-content flex flex-col dark:text-gray-400 text-black",children:(0,s.jsx)("div",{className:"mt-2",children:m?(0,s.jsx)("div",{className:"animate-pulse flex space-x-4",children:(0,s.jsxs)("div",{className:"flex-1 space-y-4 py-1",children:[(0,s.jsx)("div",{className:"h-4 bg-slate-400 rounded w-3/4"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"h-4 bg-slate-400 rounded"}),(0,s.jsx)("div",{className:"h-4 bg-slate-400 rounded w-5/6"})]})]})}):(0,s.jsx)("div",{className:"max-h-[65vh]",children:(0,s.jsx)("button",{className:"btn rounded-none btn-sm btn-wide btn-error mt-5 outline-dashed outline-black dark:outline-white outline-[2px] no-animation disabled:bg-slate-500 disabled:text-white",children:(0,s.jsx)("span",{className:"font-bold",children:"Delete Account"})})})})})]})]})})})]})}}}]);
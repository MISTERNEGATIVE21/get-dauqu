(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8511],{91734:function(e,s,a){Promise.resolve().then(a.bind(a,80145))},16463:function(e,s,a){"use strict";var t=a(71169);a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(s,{useSearchParams:function(){return t.useSearchParams}})},80145:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return c}});var t=a(57437),n=a(2265),l=a(42126),r=a(95956),d=a(16463),i=a(20357);function c(e){let s=(0,d.useRouter)(),[a,c]=(0,n.useState)(!1),[o,u]=(0,n.useState)([]);async function h(){c(!0);try{await l.Z.get("".concat(i.env.NEXT_PUBLIC_API_URL,"/v1/disk/get-my-disk"),{headers:{"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("token"))}}).then(e=>{console.log(e.data),u(e.data),c(!1)}).catch(e=>{console.log(e),c(!1),(0,r.Am)(e.response.data.message,{type:"error"})})}catch(e){setTimeout(()=>{var s,a;c(!1),(0,r.Am)(null===(a=e.response)||void 0===a?void 0:null===(s=a.data)||void 0===s?void 0:s.message,{type:"error"})},1e3)}}let[x,m]=(0,n.useState)(!1),[b,g]=(0,n.useState)(""),[j,p]=(0,n.useState)("ap-south-1"),[v,k]=(0,n.useState)("20"),[N,f]=(0,n.useState)(!1);async function y(){f(!0),await l.Z.post("".concat(i.env.NEXT_PUBLIC_API_URL,"/v1/disk/create-disk"),{label:b,region:j,size:v},{headers:{Authorization:"".concat(localStorage.getItem("token"))}}).then(e=>{f(!1),(0,r.Am)(e.data.message,{type:"success"}),m(!1),h()}).catch(e=>{console.log(e),f(!1),(0,r.Am)(e.response.data.message,{type:"error"}),h()})}return(0,n.useEffect)(()=>{h()},[]),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex w-auto h-full flex-col",children:(0,t.jsx)("blockquote",{className:"bg-gray-100 border-l-[5px] border-blue-600 dark:border-gray-500 dark:bg-gray-800",children:(0,t.jsxs)("div",{className:"h-auto dark:bg-slate-900 p-3",children:[(0,t.jsxs)("div",{className:"flex flex-col justify-between items-start h-[50px]",children:[(0,t.jsx)("h1",{className:"text-xl font-bold dark:text-gray-400 text-black",children:"Redis Database Clusters"}),(0,t.jsx)("span",{className:"text dark:text-gray-400 text-black text-xs",children:"A Managed Redis Database service provides seamless, cloud-based Redis hosting and management. It takes care of infrastructure setup, backups, ensuring high availability, security, and scaling, enabling businesses to concentrate on their applications and data rather than the complexities of Redis database administration."})]}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{className:"btn btn-sm mt-5 rounded-none no-animation dark:btn-info capitalize",onClick:()=>{m(!0)},children:"New Redis Cluster"})}),(0,t.jsx)("div",{className:"max-h-[75vh] mt-5 overflow-y-scroll",children:a?(0,t.jsx)("div",{className:"animate-pulse flex space-x-4",children:(0,t.jsxs)("div",{className:"flex-1 space-y-4 py-1",children:[(0,t.jsx)("div",{className:"h-4 bg-slate-400 rounded w-3/4"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-4 bg-slate-400 rounded"}),(0,t.jsx)("div",{className:"h-4 bg-slate-400 rounded w-5/6"})]})]})}):(0,t.jsx)("div",{children:null===o||(null==o?void 0:o.length)===0?(0,t.jsx)("div",{className:"h-[20vh] w-full flex justify-center items-center",children:(0,t.jsxs)("p",{className:"text-md font-bold dark:text-gray-400 text-black",children:["No Disk found. Create a new disk to get started."," "]})}):(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"table table-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"dark:bg-slate-700 dark:text-gray-400 text-black bg-slate-200",children:[(0,t.jsx)("th",{}),(0,t.jsx)("th",{children:"Name"}),(0,t.jsx)("th",{children:"Region"}),(0,t.jsx)("th",{children:"Size"}),(0,t.jsx)("th",{children:"Created AT"}),(0,t.jsx)("th",{children:"Action"})]})}),(0,t.jsx)("tbody",{children:o&&null!==o&&(null==o?void 0:o.map((e,a)=>(0,t.jsxs)("tr",{className:"dark:bg-slate-700 dark:text-gray-400 text-black bg-slate-200",children:[(0,t.jsx)("th",{children:"1"}),(0,t.jsx)("td",{children:null==e?void 0:e.label}),(0,t.jsx)("td",{children:null==e?void 0:e.region}),(0,t.jsxs)("td",{children:[null==e?void 0:e.size," GB SSD ",(0,t.jsx)("br",{})]}),(0,t.jsx)("td",{children:null==e?void 0:e.created_at}),(0,t.jsxs)("td",{children:[(0,t.jsx)("button",{className:"btn btn-xs rounded-none btn-error no-animation",children:"Delete"}),(0,t.jsx)("button",{className:"btn btn-xs rounded-none no-animation",onClick:()=>{s.push("/console/postgresql/".concat(null==e?void 0:e.label))},children:"View â†’"})]})]},a)))})]})})})})})]})})}),(0,t.jsx)("dialog",{id:"my_modal_4",className:"modal rounded-none ".concat(x?"modal-open":""),children:(0,t.jsxs)("form",{method:"dialog",className:"modal-box w-11/12 max-w-5xl rounded-none dark:bg-slate-700 bg-slate-100",children:[(0,t.jsx)("h3",{className:"font-bold text-lg dark:text-gray-400 text-black",children:"Create a new Redis"}),(0,t.jsxs)("div",{className:"py-4",children:[(0,t.jsxs)("label",{className:"block",children:[(0,t.jsx)("span",{className:"text-gray-700 dark:text-slate-400",children:"Name*"}),(0,t.jsx)("input",{type:"text",className:"input input-sm input-bordered mt-1 block w-full rounded-none",placeholder:"Enter disk name",value:b,onChange:e=>g(e.target.value)})]}),(0,t.jsxs)("label",{className:"block mt-5",children:[(0,t.jsx)("span",{className:"text-gray-700 dark:text-slate-400",children:"Size (GB)*"}),(0,t.jsx)("input",{type:"number",className:"input input-sm input-bordered mt-1 block w-full rounded-none",placeholder:"Enter disk name",value:v,onChange:e=>k(e.target.value)})]}),(0,t.jsxs)("label",{className:"block mt-5",children:[(0,t.jsx)("span",{className:"text-gray-700 dark:text-slate-400",children:"Region*"}),(0,t.jsx)("select",{className:"select select-bordered select-sm w-full rounded-none",value:j,onChange:e=>p(e.target.value),children:(0,t.jsx)("option",{value:"ap-south-1",children:"Mumbai (India)"})})]})]}),(0,t.jsxs)("div",{className:"modal-action",children:[(0,t.jsx)("button",{className:"btn btn-sm rounded-none",onClick:()=>m(!1),children:"Close"}),(0,t.jsx)("button",{className:"btn btn-sm rounded-none btn-success",onClick:()=>{y()},disabled:N,children:N?"Creating Disk...":"Create Disk"})]})]})})]})}}},function(e){e.O(0,[147,5956,2971,7023,1744],function(){return e(e.s=91734)}),_N_E=e.O()}]);
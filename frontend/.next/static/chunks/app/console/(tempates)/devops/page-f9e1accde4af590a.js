(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1736],{24859:function(e,a,t){Promise.resolve().then(t.bind(t,56442))},16463:function(e,a,t){"use strict";var l=t(71169);t.o(l,"usePathname")&&t.d(a,{usePathname:function(){return l.usePathname}}),t.o(l,"useRouter")&&t.d(a,{useRouter:function(){return l.useRouter}}),t.o(l,"useSearchParams")&&t.d(a,{useSearchParams:function(){return l.useSearchParams}})},56442:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return y}});var l=t(57437),s=t(2265),n=t(95956),o=t(16463),d=t(42126),r=t(20357);function i(e){let a=(0,o.useRouter)(),[t,i]=(0,s.useState)(!0),[c,u]=(0,s.useState)(null);async function h(e){i(!0);try{await d.Z.get("".concat(r.env.NEXT_PUBLIC_API_URL,"/v1/devops/my-projects"),{headers:{"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("token"))}}).then(e=>{console.log(e);let a=null==e?void 0:e.data;u(a),i(!1)}).catch(e=>{var a,t;console.log(e),i(!1),(0,n.Am)(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})})}catch(e){setTimeout(()=>{var a,t;i(!1),(0,n.Am)(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})},1e3)}}async function m(e){console.log(e),i(!0);try{await d.Z.delete("".concat(r.env.NEXT_PUBLIC_API_URL,"/v1/devops/delete-project/").concat(e),{headers:{"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("token"))}}).then(e=>{var a;h(),i(!1),(0,n.Am)(null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.message,{type:"success"})}).catch(e=>{var a,t;console.log(e),i(!1),(0,n.Am)(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})})}catch(e){setTimeout(()=>{var a,t;i(!1),(0,n.Am)(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})},1e3)}}return(0,s.useEffect)(()=>{h()},[]),(0,l.jsx)("div",{className:"h-full w-full relative",children:(0,l.jsx)("div",{className:"flex w-auto h-full flex-col relative",children:(0,l.jsx)("div",{className:"h-full relative",children:(0,l.jsxs)("div",{className:"collapse rounded-none collapse-arrow join-item border dark:border-base-300 border-blue-200 bg-white dark:bg-slate-900 h-full relative",children:[(0,l.jsx)("input",{type:"radio",name:"my-accordion-1",checked:"checked"}),(0,l.jsx)("div",{className:"collapse-title text-xl font-medium dark:text-gray-400 text-black",children:"Projects"}),(0,l.jsx)("div",{className:"collapse-content flex flex-col dark:text-gray-400 text-black w-full relative",children:(0,l.jsx)("div",{className:"w-full h-full relative overflow-y-scroll",children:t?(0,l.jsx)("div",{className:"animate-pulse flex space-x-4",children:(0,l.jsxs)("div",{className:"flex-1 space-y-4 py-1",children:[(0,l.jsx)("div",{className:"skeleton h-4 bg-slate-400 rounded w-3/4"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("div",{className:"skeleton h-4 bg-slate-400 rounded"}),(0,l.jsx)("div",{className:"skeleton h-4 bg-slate-400 rounded w-5/6"})]})]})}):(0,l.jsx)("div",{className:"w-full absolute items-start flex",children:(0,l.jsxs)("table",{className:"table table-sm",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"dark:bg-slate-900 dark:text-gray-400 text-black bg-white",children:[(0,l.jsx)("th",{children:"Name & Version"}),(0,l.jsx)("th",{children:"Runtime"}),(0,l.jsx)("th",{children:"Target Port"}),(0,l.jsx)("th",{children:"Framework"}),(0,l.jsx)("th",{children:"Created AT"}),(0,l.jsx)("th",{children:"Status"}),(0,l.jsx)("th",{children:"Action"})]})}),(0,l.jsx)("tbody",{className:"mt-5 dark:text-gray-400 text-black",children:c&&(null==c?void 0:c.map((e,t)=>{var s,n,o,d,r,i;return(0,l.jsxs)("tr",{className:"dark:bg-slate-900 rounded-sm bg-white",children:[(0,l.jsx)("td",{children:(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"avatar",children:(0,l.jsx)("div",{className:"mask mask-square rounded-md bg-slate-300 flex justify-center items-center p-0",children:(0,l.jsx)("div",{className:"w-[50px] h-[50px] flex justify-center items-center relative",children:(0,l.jsx)("img",{src:null==e?void 0:e.icon,alt:"icon"})})})}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("div",{className:"font-bold truncate w-36",children:null!==(s=null==e?void 0:e.name)&&void 0!==s?s:"NoN"}),(0,l.jsxs)("span",{children:["Version:"," ",(0,l.jsxs)("span",{className:"text-blue-500 hover:underline cursor-pointer font-bold",children:["#",null!==(n=null==e?void 0:e.project_version)&&void 0!==n?n:"NoN"]})]})]})]})}),(0,l.jsx)("td",{className:"",children:(0,l.jsx)("div",{className:"font-light text-xs uppercase",children:null!==(o=null==e?void 0:e.runtime)&&void 0!==o?o:"NoN"})}),(0,l.jsx)("td",{children:(0,l.jsx)("div",{className:"font-light",children:null!==(d=null==e?void 0:e.target_port)&&void 0!==d?d:"NoN"})}),(0,l.jsx)("td",{className:"",children:(0,l.jsx)("div",{className:"font-light text-xs uppercase",children:(null==e?void 0:e.framework)===""?"------------":null==e?void 0:e.framework})}),(0,l.jsx)("td",{children:null!==(r=null==e?void 0:e.createdAt)&&void 0!==r?r:"NoN"}),(0,l.jsx)("td",{className:"",children:(0,l.jsx)("div",{className:"font-light text-xs uppercase",children:null!==(i=null==e?void 0:e.status)&&void 0!==i?i:"NoN"})}),(0,l.jsxs)("th",{className:"space-x-2",children:[(0,l.jsx)("button",{className:"btn rounded-none btn-xs mt-5 outline-dashed outline-black dark:outline-white outline-[1px] btn-error no-animation disabled:bg-slate-500 disabled:text-white",onClick:a=>{m(null==e?void 0:e._id)},children:"Delete"}),(0,l.jsx)("button",{className:"btn rounded-none btn-xs mt-5 outline-dashed outline-black dark:outline-white outline-[1px] no-animation disabled:bg-slate-500 disabled:text-white",onClick:t=>{a.push("/console/devops/deploy?ProjectID=".concat(null==e?void 0:e._id))},children:"View"})]})]},t)}))})]})})})})]})})})})}var c=t(20357);function u(e){let{label:a}=e,[t,o]=(0,s.useState)(!0),[r,i]=(0,s.useState)(null);async function u(){o(!0);try{await d.Z.get("".concat(c.env.NEXT_PUBLIC_API_URL,"/v1/auth/get-my-apps"),{headers:{"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("token"))}}).then(e=>{var a,t;console.log(e.data),i(null==e?void 0:e.data),setFirstAccount(null===(a=e.data[0])||void 0===a?void 0:a.installation_id),setSelectedAccount(null==e?void 0:null===(t=e.data[0])||void 0===t?void 0:t.installation_id),o(!1)}).catch(e=>{var a,t;o(!1),(0,n.Am)(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})})}catch(e){setTimeout(()=>{var a,t;o(!1),(0,n.Am)(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})},1e3)}}let[h,m]=(0,s.useState)("");async function x(e){m(e);try{await d.Z.delete("".concat(c.env.NEXT_PUBLIC_API_URL,"/v1/git/delete-app/").concat(e),{headers:{"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("token"))}}).then(e=>{console.log(e.data),u(),m("")}).catch(e=>{var a,t;m(""),(0,n.Am)(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})})}catch(e){setTimeout(()=>{var a,t;m(""),(0,n.Am)(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})},1e3)}}return(0,s.useEffect)(()=>{u()},[]),(0,l.jsx)("div",{className:"dark:bg-slate-800 bg-slate-200 h-full w-auto relative",children:(0,l.jsx)("div",{className:"h-auto overflow-y-scroll inset-0 relative max-h-[73vh]",children:(0,l.jsx)("div",{className:"w-auto relative h-full overflow-y-scroll max-h-[73vh]",children:(0,l.jsxs)("div",{className:"join join-vertical w-full rounded-none",children:[(0,l.jsxs)("div",{className:"collapse collapse-arrow join-item border dark:border-base-300 border-blue-200 bg-white dark:bg-slate-900",children:[(0,l.jsx)("input",{type:"radio",name:"my-accordion-1",checked:"checked"}),(0,l.jsx)("div",{className:"collapse-title text-xl font-medium dark:text-gray-400 text-black",children:"Connect to git provider"}),(0,l.jsx)("div",{className:"collapse-content flex flex-col dark:text-gray-400 text-black",children:(0,l.jsxs)("div",{className:"flex space-x-4",children:[(0,l.jsxs)("button",{className:"btn btn-wide btn-info mt-5 no-animation rounded-md capitalize dark:text-slate-800 text-slate-800 disabled:text-white",onClick:()=>{window.open("https://github.com/apps/daucu/installations/new","_blank")},children:["Connect To Github",(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",className:"bi bi-github ml-2",viewBox:"0 0 16 16",children:(0,l.jsx)("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"})})]}),(0,l.jsxs)("button",{className:"btn btn-wide mt-5 no-animation disabled:bg-slate-800 rounded-md capitalize dark:btn-info disabled:text-slate-400",disabled:!0,children:["Connect To GitLab",(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",className:"bi bi-gitlab ml-5",viewBox:"0 0 16 16",children:(0,l.jsx)("path",{d:"m15.734 6.1-.022-.058L13.534.358a.568.568 0 0 0-.563-.356.583.583 0 0 0-.328.122.582.582 0 0 0-.193.294l-1.47 4.499H5.025l-1.47-4.5A.572.572 0 0 0 2.47.358L.289 6.04l-.022.057A4.044 4.044 0 0 0 1.61 10.77l.007.006.02.014 3.318 2.485 1.64 1.242 1 .755a.673.673 0 0 0 .814 0l1-.755 1.64-1.242 3.338-2.5.009-.007a4.046 4.046 0 0 0 1.34-4.668Z"})})]}),(0,l.jsxs)("button",{className:"btn btn-wide mt-5 no-animation disabled:bg-slate-800 rounded-md capitalize dark:btn-info disabled:text-slate-400",disabled:!0,children:["Connect To BitBucket",(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-label":"Bitbucket",role:"img",className:"w-6 h-6",viewBox:"0 0 512 512",children:[(0,l.jsx)("rect",{width:"512",height:"512",rx:"15%",fill:"#ffffff"}),(0,l.jsx)("path",{fill:"#2684ff",d:"M422 130a10 10 0 00-9.9-11.7H100.5a10 10 0 00-10 11.7L136 409a10 10 0 009.9 8.4h221c5 0 9.2-3.5 10 -8.4L422 130zM291 316.8h-69.3l-18.7-98h104.8z"}),(0,l.jsx)("path",{fill:"url(#a)",d:"M59.632 25.2H40.94l-3.1 18.3h-13v18.9H52c1 0 1.7-.7 1.8-1.6l5.8-35.6z",transform:"translate(89.8 85) scale(5.3285)"}),(0,l.jsxs)("linearGradient",{id:"a",x2:"1",gradientTransform:"rotate(141 22.239 22.239) scale(31.4)",gradientUnits:"userSpaceOnUse",children:[(0,l.jsx)("stop",{offset:"0","stop-color":"#0052cc"}),(0,l.jsx)("stop",{offset:"1","stop-color":"#2684ff"})]})]})]})]})})]}),(0,l.jsxs)("div",{className:"collapse collapse-arrow join-item border-blue-200 border dark:border-base-300 collapse-open dark:text-gray-400 text-black bg-white dark:bg-slate-900",children:[(0,l.jsx)("input",{type:"radio",name:"my-accordion-3"}),(0,l.jsx)("div",{className:"collapse-title text-xl font-medium",children:"Connected Accounts"}),(0,l.jsx)("div",{className:"collapse-content",children:!1!==t?(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"",children:["Getting accounts..."," ",(0,l.jsx)("span",{className:"loading loading-spinner no-animation w-4 h-4"})]})}):(0,l.jsx)("div",{className:"w-full ",children:null==r?void 0:r.map((e,a)=>{var t,s,n,o;return(0,l.jsxs)("div",{className:"p-2 border-l-2 border-blue-600 dark:bg-transparent mt-1 flex items-center text-center justify-between",children:[(0,l.jsxs)("div",{className:"space-x-2 flex ",children:[(0,l.jsx)("img",{src:null==e?void 0:null===(s=e.response)||void 0===s?void 0:null===(t=s.account)||void 0===t?void 0:t.avatar_url,className:"w-5 h-5 rounded-full mr-1"}),(0,l.jsx)("span",{className:"text-md ml-5",children:null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(n=o.account)||void 0===n?void 0:n.login})]}),(0,l.jsx)("button",{className:"btn-xs btn capitalize btn-link no-animation text-slate-800 dark:text-slate-200",onClick:()=>{x(null==e?void 0:e.installation_id)},children:h===(null==e?void 0:e.installation_id)?(0,l.jsxs)("span",{children:["Removing..."," ",(0,l.jsx)("span",{className:"loading loading-spinner no-animation w-2 h-2"})]}):(0,l.jsx)("span",{children:"Remove"})})]},a)})})})]})]})})})})}var h=t(19212),m=t.n(h),x=t(20357);function v(){let e=(0,o.useRouter)(),[a,t]=(0,s.useState)(!0),[r,i]=(0,s.useState)(null),[c,u]=(0,s.useState)(null),[h,v]=(0,s.useState)(1),[p,b]=(0,s.useState)(null),[g,j]=(0,s.useState)("");async function f(e){t(!0);try{await d.Z.post("".concat(x.env.NEXT_PUBLIC_API_URL,"/v1/auth/get-my-repo"),{installation_id:e,page_number:h.toString()},{headers:{"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("token"))}}).then(e=>{var a,l,s,n;u(null===(l=e.data)||void 0===l?void 0:null===(a=l.data)||void 0===a?void 0:a.total_count),i(null===(n=e.data)||void 0===n?void 0:null===(s=n.data)||void 0===s?void 0:s.repositories),t(!1)}).catch(e=>{var a,l;t(!1),(0,n.Am)(null===(l=e.response)||void 0===l?void 0:null===(a=l.data)||void 0===a?void 0:a.message,{type:"error"})})}catch(e){setTimeout(()=>{var a,l;t(!1),(0,n.Am)(null===(l=e.response)||void 0===l?void 0:null===(a=l.data)||void 0===a?void 0:a.message,{type:"error"})},1e3)}}let[k,N]=(0,s.useState)(!0),[y,w]=(0,s.useState)(null);async function A(){N(!0);try{await d.Z.get("".concat(x.env.NEXT_PUBLIC_API_URL,"/v1/auth/get-my-apps"),{headers:{"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("token"))}}).then(e=>{var a,t,l,s;w(null==e?void 0:e.data),j(null===(l=e.data[0])||void 0===l?void 0:null===(t=l.response)||void 0===t?void 0:null===(a=t.account)||void 0===a?void 0:a.login),b(null==e?void 0:null===(s=e.data[0])||void 0===s?void 0:s.installation_id),N(!1)}).catch(e=>{var a,t;N(!1),(0,n.Am)(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})})}catch(e){setTimeout(()=>{var a,t;N(!1),(0,n.Am)(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})},1e3)}}(0,s.useEffect)(()=>{A()},[]),(0,s.useEffect)(()=>{f(p)},[p]);let[C,_]=(0,s.useState)("");async function S(a,t,l){_(t),await d.Z.post("".concat(x.env.NEXT_PUBLIC_API_URL,"/v1/devops/create-project"),{name:l,context:{type:"git",context:a,username:g,installation_id:p.toString()}},{headers:{Authorization:"".concat(localStorage.getItem("token"))}}).then(a=>{var t;_(""),e.push("/console/devops/deploy?ProjectID=".concat(null===(t=a.data)||void 0===t?void 0:t.ImportedID)),(0,n.Am)(a.data.message,{type:"success"})}).catch(e=>{var a,t;_(""),(0,n.Am)(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})})}async function z(e){t(!0);try{await d.Z.post("".concat(x.env.NEXT_PUBLIC_API_URL,"/v1/auth/get-my-repo"),{installation_id:p,page_number:e.toString()},{headers:{"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("token"))}}).then(e=>{var a,l,s,n;u(null===(l=e.data)||void 0===l?void 0:null===(a=l.data)||void 0===a?void 0:a.total_count),i(null===(n=e.data)||void 0===n?void 0:null===(s=n.data)||void 0===s?void 0:s.repositories),t(!1)}).catch(e=>{var a,l;t(!1),(0,n.Am)(null===(l=e.response)||void 0===l?void 0:null===(a=l.data)||void 0===a?void 0:a.message,{type:"error"})})}catch(e){setTimeout(()=>{var a,l;t(!1),(0,n.Am)(null===(l=e.response)||void 0===l?void 0:null===(a=l.data)||void 0===a?void 0:a.message,{type:"error"})},1e3)}}return(0,l.jsx)("div",{className:"dark:bg-slate-800 bg-slate-200 h-full w-auto relative",children:(0,l.jsx)("div",{className:"h-auto overflow-y-scroll inset-0 relative max-h-full",children:(0,l.jsx)("div",{className:"w-auto relative h-full overflow-y-scroll max-h-full",children:(0,l.jsx)("div",{className:"join join-vertical w-full rounded-none",children:(0,l.jsxs)("div",{className:"collapse collapse-arrow join-item border dark:border-base-300 border-blue-200 bg-white dark:bg-slate-900",children:[(0,l.jsx)("input",{type:"radio",name:"my-accordion-1",checked:"checked"}),(0,l.jsx)("div",{className:"collapse-title text-xl font-medium dark:text-gray-400 text-black",children:"Accounts and Repositories"}),(0,l.jsxs)("div",{className:"collapse-content flex flex-col dark:text-gray-400 text-black",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsxs)("div",{className:"w-[50%] flex items-center space-x-2",children:[(0,l.jsx)("input",{className:"input input-sm text-white",placeholder:"Search"}),(0,l.jsx)("div",{className:"join grid grid-cols-2",children:(0,l.jsx)("select",{className:"btn btn-sm rounded-md no-animation disabled:bg-slate-400 disabled:text-slate-200",onChange:e=>{v(e.target.value),z(e.target.value)},value:h,children:Array.from({length:Math.ceil(c/50)},(e,a)=>(0,l.jsxs)("option",{value:a+1,children:[50*a+1," - ",50*a+50>c?c:50*a+50]},a))})})]}),(0,l.jsx)("div",{className:"flex flex-col mb-2 w-auto justify-end items-end",children:!1!==k?(0,l.jsx)("div",{children:(0,l.jsxs)("button",{className:"btn btn-sm rounded-md no-animation",children:["Getting accounts..."," ",(0,l.jsx)("span",{className:"loading loading-spinner no-animation w-4 h-4"})]})}):(0,l.jsx)("div",{className:"flex rounded-xs dark:bg-slate-800 dark:text-gray-400 text-black space-x-2 justify-end items-end",children:null==y?void 0:y.map((e,a)=>{var t,s,n,o,d;return(0,l.jsxs)("button",{value:null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.id,onClick:()=>{v(1),b(null==e?void 0:e.installation_id)},className:"btn btn-sm rounded-md flex capitalize justify-start items-center text-left no-animation ".concat(p===(null==e?void 0:e.installation_id)?"btn-active outline outline-4 outline-green-600":""),children:[(0,l.jsx)("img",{src:null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(s=n.account)||void 0===s?void 0:s.avatar_url,className:"w-5 h-5 rounded-full mr-1"}),null==e?void 0:null===(d=e.response)||void 0===d?void 0:null===(o=d.account)||void 0===o?void 0:o.login]},a)})})})]}),(0,l.jsx)("div",{className:"w-full h-full overflow-x-auto hide-scrollbar mt-5 rounded-sm",children:!1!==a?(0,l.jsx)("div",{className:"animate-pulse flex space-x-4",children:(0,l.jsxs)("div",{className:"flex-1 space-y-4 py-1",children:[(0,l.jsx)("div",{className:"skeleton h-4 bg-slate-400 rounded w-3/4"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("div",{className:"skeleton h-4 bg-slate-400 rounded"}),(0,l.jsx)("div",{className:"skeleton h-4 bg-slate-400 rounded w-5/6"})]})]})}):(0,l.jsx)("div",{className:"w-full items-start flex max-h-[65vh] h-full",children:!0!==a&&(null==r?void 0:r.length)!==0?(0,l.jsxs)("table",{className:"table table-sm",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"dark:bg-slate-900 rounded-sm bg-white dark:text-gray-400 text-black",children:[(0,l.jsx)("th",{children:"Name"}),(0,l.jsx)("th",{children:"Language"}),(0,l.jsx)("th",{children:"Date"}),(0,l.jsx)("th",{children:"Visibility"}),(0,l.jsx)("th",{children:"Action"})]})}),(0,l.jsx)("tbody",{className:"mt-5 dark:text-gray-400 text-black",children:r&&(null==r?void 0:r.map((e,a)=>{var t;return(0,l.jsxs)("tr",{className:"dark:bg-slate-900 rounded-sm bg-white",children:[(0,l.jsx)("td",{children:(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"font-bold",children:[null==e?void 0:e.full_name,(0,l.jsx)("span",{className:"ml-1 rounded-full btn btn-ghost border border-black btn-xs no-animation text-xs capitalize",children:null==e?void 0:e.default_branch})]})})})}),(0,l.jsxs)("td",{children:[null!==(t=null==e?void 0:e.language)&&void 0!==t?t:"-----",(0,l.jsx)("br",{})]}),(0,l.jsx)("td",{children:m()(null==e?void 0:e.created_at).fromNow()}),(0,l.jsx)("td",{children:(null==e?void 0:e.private)!==!1?"Private":"Public"}),(0,l.jsx)("th",{children:(0,l.jsx)("button",{className:"btn btn-xs rounded-[5px] no-animation disabled:bg-slate-700 disabled:text-white dark:btn-info capitalize",disabled:""!==C,onClick:()=>{S(null==e?void 0:e.clone_url,null==e?void 0:e.id,null==e?void 0:e.name)},children:C===(null==e?void 0:e.id)?(0,l.jsx)("span",{className:"loading loading-spinner no-animation w-4 h-4"}):(0,l.jsx)("div",{children:C===(null==e?void 0:e.id)?"Creating...":"Create Project"})})})]},a)}))})]}):(0,l.jsxs)("div",{className:"flex justify-center items-center w-full h-[50vh] flex-col",children:[(0,l.jsx)("div",{className:" font-bold text-lg dark:text-gray-400 text-black",children:"No repository found"}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"text-sm dark:text-gray-400 text-black",children:"You have no repository in this account"})})]})})}),(0,l.jsx)("div",{className:"w-full flex justify-start"})]})]})})})})})}var p=t(20357);function b(){let[e,a]=(0,s.useState)(!1),[t,o]=(0,s.useState)([]),[r,i]=(0,s.useState)(0);async function c(){a(!0);try{await d.Z.get("".concat(p.env.NEXT_PUBLIC_API_URL,"/v1/devops/get-files"),{headers:{"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("token"))}}).then(e=>{o(e.data),console.log(e.data),k(!1),a(!1)}).catch(e=>{a(!1),(0,n.Am)(e.response.data.message,{type:"error"})})}catch(e){setTimeout(()=>{var t,l;a(!1),(0,n.Am)(null===(l=e.response)||void 0===l?void 0:null===(t=l.data)||void 0===t?void 0:t.message,{type:"error"})},1e3)}}let[u,h]=(0,s.useState)(""),[m,x]=(0,s.useState)(!1),[v,b]=(0,s.useState)(null),g=e=>{b(e.target.files[0]),i(e.target.files.length)};async function j(){let e=new FormData;e.append("name",u),e.append("Files",v),x(!0);try{await d.Z.post("".concat(p.env.NEXT_PUBLIC_API_URL,"/v1/devops/upload-file"),e,{headers:{"Content-Type":"multipart/form-data",Authorization:"".concat(localStorage.getItem("token"))}}).then(e=>{var a;c(),x(!1),(0,n.Am)(null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.message,{type:"success"})}).catch(e=>{var a,t;x(!1),(0,n.Am)(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})})}catch(e){setTimeout(()=>{var a,t;x(!1),(0,n.Am)(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})},1e3)}}let[f,k]=(0,s.useState)(!1),[N,y]=(0,s.useState)("");async function w(e,a){y(e);try{await d.Z.delete("".concat(p.env.NEXT_PUBLIC_API_URL,"/v1/devops/delete-file/").concat(e,"/").concat(a),{headers:{"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("token"))}}).then(e=>{var a;y(""),c(),(0,n.Am)(null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.message,{type:"success"})}).catch(e=>{var a,t;y(""),(0,n.Am)(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})})}catch(e){setTimeout(()=>{var a,t;y(""),(0,n.Am)(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})},1e3)}}let[A,C]=(0,s.useState)(!1);async function _(e){C(!0);try{await d.Z.post("".concat(p.env.NEXT_PUBLIC_API_URL,"/v1/devops/create-project-from-file"),{id:e},{headers:{"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("token"))}}).then(e=>{C(!1),(0,n.Am)("Project created successfully",{type:"success"})}).catch(e=>{var a,t;C(!1),(0,n.Am)(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})})}catch(e){setTimeout(()=>{var a,t;C(!1),(0,n.Am)(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})},1e3)}}let[S,z]=(0,s.useState)(!1),[I,P]=(0,s.useState)([]),[T,U]=(0,s.useState)(!1);async function L(){console.log("updatefile");let e=new FormData;e.append("name",u),e.append("Files",v),U(!0),await d.Z.patch("".concat(p.env.NEXT_PUBLIC_API_URL,"/v1/devops/update-file/").concat(null==I?void 0:I._id),e,{headers:{"Content-Type":"multipart/form-data",Authorization:localStorage.getItem("token")}}).then(e=>{c(),U(!1),(0,n.Am)(e.data.message,{type:"success"})}).catch(e=>{U(!1),(0,n.Am)(e.response.data.message,{type:"error"})})}return(0,s.useEffect)(()=>{c()},[]),(0,l.jsxs)("div",{className:"dark:bg-slate-800 bg-slate-200 w-auto relative h-[80vh] overflow-y-scroll",children:[(0,l.jsxs)("div",{className:"collapse collapse-arrow join-item border dark:border-base-300 border-blue-200 bg-white dark:bg-slate-900 rounded-none",children:[(0,l.jsx)("input",{type:"radio",name:"my-accordion-1",checked:"checked"}),(0,l.jsx)("div",{className:"collapse-title text-xl font-medium dark:text-gray-400 text-black",children:"Upload File"}),(0,l.jsxs)("div",{className:"collapse-content flex flex-col dark:text-gray-400 text-black",children:[(0,l.jsx)("div",{className:"flex justify-end",children:(0,l.jsx)("button",{className:"btn btn-sm rounded-md no-animation",onClick:()=>k(!0),children:"Upload File"})}),e?(0,l.jsx)("div",{className:"animate-pulse flex space-x-4",children:(0,l.jsxs)("div",{className:"flex-1 space-y-4 py-1",children:[(0,l.jsx)("div",{className:"skeleton h-4 bg-slate-400 rounded w-3/4"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("div",{className:"skeleton h-4 bg-slate-400 rounded"}),(0,l.jsx)("div",{className:"skeleton h-4 bg-slate-400 rounded w-5/6"})]})]})}):(0,l.jsxs)("table",{className:"table table-sm",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"dark:bg-slate-900 rounded-sm bg-white dark:text-gray-400 text-black",children:[(0,l.jsx)("th",{children:"Version"}),(0,l.jsx)("th",{children:"Name"}),(0,l.jsx)("th",{children:"Label"}),(0,l.jsx)("th",{children:"Updated AT"}),(0,l.jsx)("th",{children:"Created AT"}),(0,l.jsx)("th",{children:"Action"})]})}),(0,l.jsx)("tbody",{className:"mt-5 dark:text-gray-400 text-black",children:t&&(null==t?void 0:t.map((e,a)=>(0,l.jsxs)("tr",{className:"dark:bg-slate-900 rounded-sm bg-white",children:[(0,l.jsxs)("td",{className:"text-blue-500 hover:underline cursor-pointer font-bold",children:["#",null==e?void 0:e.version]}),(0,l.jsx)("td",{children:null==e?void 0:e.name}),(0,l.jsx)("td",{children:null==e?void 0:e.label}),(0,l.jsx)("td",{children:null==e?void 0:e.updatedAt}),(0,l.jsx)("td",{children:null==e?void 0:e.createdAt}),(0,l.jsxs)("td",{className:"flex space-x-1",children:[(0,l.jsx)("button",{className:"btn btn-xs rounded-[5px] capitalize",onClick:()=>{P(e),h(null==e?void 0:e.name),z(!0)},children:"Update"}),(0,l.jsx)("button",{className:"btn btn-xs rounded-[5px] capitalize",disabled:A,onClick:()=>{_(e._id)},children:"Create Project"}),(0,l.jsx)("button",{className:"btn btn-xs rounded-[5px] capitalize btn-error",disabled:N===e._id,onClick:()=>{w(e._id,e.label)},children:N===e._id?"Deleting...":"Delete"})]})]},a)))})]})]})]}),(0,l.jsx)("dialog",{id:"my_modal_4",className:"modal rounded-none ".concat(f?"modal-open":""),children:(0,l.jsxs)("form",{method:"dialog",className:"modal-box w-11/12 max-w-5xl rounded-none dark:bg-slate-700 bg-slate-100",children:[(0,l.jsx)("h3",{className:"font-bold text-lg dark:text-gray-400 text-black",children:"Upload new file"}),(0,l.jsxs)("div",{className:"py-4",children:[(0,l.jsxs)("label",{className:"block",children:[(0,l.jsx)("span",{className:"text-gray-700 dark:text-slate-400",children:"Name*"}),(0,l.jsx)("input",{type:"text",className:"input input-sm input-bordered mt-1 block w-full rounded-none bg-white dark:bg-slate-800 text-black dark:text-white",placeholder:"Enter name",value:u,onChange:e=>h(e.target.value)})]}),(0,l.jsxs)("div",{className:"block mt-5",children:[(0,l.jsxs)("span",{className:"text-gray-700 dark:text-slate-400",children:["Upload File* (",r," selected)"]}),(0,l.jsx)("div",{className:"flex items-center border-slate-800 justify-center w-full mt-2",children:(0,l.jsxs)("label",{onDragOver:e=>e.preventDefault(),onDragEnter:e=>e.preventDefault(),onChange:g,htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-[40vh] border-2 border-dotted border-slate-300 rounded-sm cursor-pointer bg-white dark:hover-bg-bray-800 dark:bg-slate-900 dark:border-gray-600",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[(0,l.jsx)("svg",{className:"w-8 h-8 mb-4 text-gray-500 dark:bg-slate-900","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:(0,l.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),(0,l.jsxs)("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,l.jsx)("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),(0,l.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"SVG, PNG, JPG, or GIF (MAX. 800x400px)"})]}),(0,l.jsx)("input",{id:"dropzone-file",type:"file",className:"hidden"})]})})]})]}),(0,l.jsxs)("div",{className:"modal-action",children:[(0,l.jsx)("button",{className:"btn btn-sm rounded-[5px] capitalize",onClick:()=>k(!1),children:"Close"}),(0,l.jsx)("button",{className:"btn btn-sm rounded-[5px] btn-success capitalize",disabled:m,onClick:()=>{j()},children:m?"Uploading...":"Upload"})]})]})}),(0,l.jsx)("dialog",{id:"my_modal_4",className:"modal rounded-none ".concat(S?"modal-open":""),children:(0,l.jsxs)("form",{method:"dialog",className:"modal-box w-11/12 max-w-5xl rounded-none dark:bg-slate-700 bg-slate-100",children:[(0,l.jsx)("h3",{className:"font-bold text-lg dark:text-gray-400 text-black",children:"Upload file to update project"}),(0,l.jsxs)("div",{className:"py-4",children:[(0,l.jsxs)("label",{className:"block",children:[(0,l.jsx)("span",{className:"text-gray-700 dark:text-slate-400",children:"Name*"}),(0,l.jsx)("input",{type:"text",className:"input input-sm input-bordered mt-1 block w-full rounded-none bg-white dark:bg-slate-800 text-black dark:text-white",placeholder:"Enter name",value:u,onChange:e=>h(e.target.value)})]}),(0,l.jsxs)("div",{className:"block mt-5",children:[(0,l.jsxs)("span",{className:"text-gray-700 dark:text-slate-400",children:["Upload File* (",r," selected)"]}),(0,l.jsx)("div",{className:"flex items-center border-slate-800 justify-center w-full mt-2",children:(0,l.jsxs)("label",{onDragOver:e=>e.preventDefault(),onDragEnter:e=>e.preventDefault(),onChange:g,htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-[40vh] border-2 border-dotted border-slate-300 rounded-sm cursor-pointer bg-white dark:hover-bg-bray-800 dark:bg-slate-900 dark:border-gray-600",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[(0,l.jsx)("svg",{className:"w-8 h-8 mb-4 text-gray-500 dark:bg-slate-900","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:(0,l.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),(0,l.jsxs)("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,l.jsx)("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),(0,l.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Only zip file allowed"," ",(0,l.jsx)("span",{className:"hover:underline hover:text-blue-500",children:"(check docs for more info)"})]})]}),(0,l.jsx)("input",{id:"dropzone-file",type:"file",className:"hidden"})]})})]})]}),(0,l.jsxs)("div",{className:"modal-action",children:[(0,l.jsx)("button",{className:"btn btn-sm rounded-[5px] capitalize",onClick:()=>z(!1),children:"Close"}),(0,l.jsx)("button",{className:"btn btn-sm rounded-[5px] btn-success capitalize",disabled:T,onClick:()=>{L()},children:m?"Updating...":"Update"})]})]})})]})}var g=t(37270),j=t(20357);function f(){let[e,a]=(0,s.useState)(!1),[t,o]=(0,s.useState)([]),[r,i]=(0,s.useState)(!1);async function c(){a(!0);try{await d.Z.get("".concat(j.env.NEXT_PUBLIC_API_URL,"/v1/devops/get-dockerfiles"),{headers:{"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("token"))}}).then(e=>{o(e.data),a(!1)}).catch(e=>{a(!1),(0,n.Am)(e.response.data.message,{type:"error"})})}catch(e){setTimeout(()=>{var t,l;a(!1),(0,n.Am)(null===(l=e.response)||void 0===l?void 0:null===(t=l.data)||void 0===t?void 0:t.message,{type:"error"})},1e3)}}let[u,h]=(0,s.useState)("# Use the official NGINX base image\n  FROM nginx:latest\n  \n  # Set the default HTML content\n  RUN echo '<!DOCTYPE html>' > /usr/share/nginx/html/index.html &&       echo '<html lang=\"en\">' >> /usr/share/nginx/html/index.html &&       echo '  <head>' >> /usr/share/nginx/html/index.html &&       echo '    <meta charset=\"UTF-8\">' >> /usr/share/nginx/html/index.html &&       echo '    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">' >> /usr/share/nginx/html/index.html &&       echo '    <title>Welcome to My Dockerized NGINX Server</title>' >> /usr/share/nginx/html/index.html &&       echo '  </head>' >> /usr/share/nginx/html/index.html &&       echo '  <body>' >> /usr/share/nginx/html/index.html &&       echo '    <h1>Hello from NGINX Docker Container!</h1>' >> /usr/share/nginx/html/index.html &&       echo '    <p>This is a simple HTML page served by NGINX in a Docker container.</p>' >> /usr/share/nginx/html/index.html &&       echo '  </body>' >> /usr/share/nginx/html/index.html &&       echo '</html>' >> /usr/share/nginx/html/index.html\n  \n  # Expose port 80\n  EXPOSE 80\n  \n  # Start NGINX when the container runs\n  CMD [\"nginx\", \"-g\", \"daemon off;\"]  \n  "),[m,x]=(0,s.useState)(""),[v,p]=(0,s.useState)(!1);async function b(){p(!0);try{await d.Z.post("".concat(j.env.NEXT_PUBLIC_API_URL,"/v1/devops/create-dockerfile"),{name:m,value:u},{headers:{"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("token"))}}).then(e=>{c(),i(!1),p(!1),(0,n.Am)(e.data,{type:"success"})}).catch(e=>{var a,t;p(!1),(0,n.Am)(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})})}catch(e){setTimeout(()=>{var a,t;p(!1),(0,n.Am)(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})},1e3)}}let[f,k]=(0,s.useState)("");async function N(e){k(e);try{await d.Z.delete("".concat(j.env.NEXT_PUBLIC_API_URL,"/v1/devops/delete-dockerfile/").concat(e),{headers:{"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("token"))}}).then(e=>{var a;k(""),c(),(0,n.Am)(null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.message,{type:"success"})}).catch(e=>{var a,t;k(""),(0,n.Am)(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})})}catch(e){setTimeout(()=>{var a,t;k(""),(0,n.Am)(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})},1e3)}}let[y,w]=(0,s.useState)("");async function A(e){w(e);try{await d.Z.post("".concat(j.env.NEXT_PUBLIC_API_URL,"/v1/devops/create-project-from-dockerfile"),{id:e},{headers:{"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("token"))}}).then(e=>{w(""),(0,n.Am)("Project created successfully",{type:"success"})}).catch(e=>{var a,t;w(""),(0,n.Am)(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})})}catch(e){setTimeout(()=>{var a,t;w(""),(0,n.Am)(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})},1e3)}}let[C,_]=(0,s.useState)(!1),[S,z]=(0,s.useState)(!1),[I,P]=(0,s.useState)([]),[T,U]=(0,s.useState)(null==I?void 0:I.value);async function L(){z(!0);try{await d.Z.patch("".concat(j.env.NEXT_PUBLIC_API_URL,"/v1/devops/update-dockerfile"),{id:I._id,name:null==I?void 0:I.name,value:T},{headers:{"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("token"))}}).then(e=>{var a;z(!1),_(!1),c(),(0,n.Am)(null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.message,{type:"success"})}).catch(e=>{var a,t;z(!1),(0,n.Am)(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})})}catch(e){setTimeout(()=>{var a,t;z(!1),(0,n.Am)(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})},1e3)}}return(0,s.useEffect)(()=>{h(localStorage.getItem("dockerfile_date")),c()},[]),(0,l.jsxs)("div",{className:"dark:bg-slate-800 bg-slate-200 w-auto relative h-[80vh] overflow-y-scroll",children:[(0,l.jsxs)("div",{className:"collapse collapse-arrow join-item border dark:border-base-300 border-blue-200 bg-white dark:bg-slate-900 rounded-none",children:[(0,l.jsx)("input",{type:"radio",name:"my-accordion-1",checked:"checked"}),(0,l.jsx)("div",{className:"collapse-title text-xl font-medium dark:text-gray-400 text-black",children:"Dockerfile"}),(0,l.jsxs)("div",{className:"collapse-content flex flex-col dark:text-gray-400 text-black",children:[(0,l.jsx)("div",{className:"flex justify-end",children:(0,l.jsx)("button",{className:"btn btn-sm rounded-md no-animation",onClick:()=>i(!0),children:"Create Dockerfile"})}),e?(0,l.jsx)("div",{className:"animate-pulse flex space-x-4",children:(0,l.jsxs)("div",{className:"flex-1 space-y-4 py-1",children:[(0,l.jsx)("div",{className:"skeleton h-4 bg-slate-400 rounded w-3/4"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("div",{className:"skeleton h-4 bg-slate-400 rounded"}),(0,l.jsx)("div",{className:"skeleton h-4 bg-slate-400 rounded w-5/6"})]})]})}):(0,l.jsx)("div",{children:void 0===t||(null==t?void 0:t.length)===0||null===t?(0,l.jsx)("div",{className:"p-10 items-center justify-center flex w-full",children:"No Dockerfile found please create one to continue"}):(0,l.jsxs)("table",{className:"table table-sm",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"dark:bg-slate-900 rounded-sm bg-white dark:text-gray-400 text-black",children:[(0,l.jsx)("th",{children:"Version"}),(0,l.jsx)("th",{children:"Name"}),(0,l.jsx)("th",{children:"Label"}),(0,l.jsx)("th",{children:"Updated AT"}),(0,l.jsx)("th",{children:"Created AT"}),(0,l.jsx)("th",{children:"Action"})]})}),(0,l.jsx)("tbody",{className:"mt-5 dark:text-gray-400 text-black",children:t&&(null==t?void 0:t.map((e,a)=>(0,l.jsxs)("tr",{className:"dark:bg-slate-900 rounded-sm bg-white",children:[(0,l.jsxs)("td",{className:"text-blue-500 hover:underline cursor-pointer font-bold",children:["#",null==e?void 0:e.version]}),(0,l.jsx)("td",{children:null==e?void 0:e.name}),(0,l.jsx)("td",{children:null==e?void 0:e.label}),(0,l.jsxs)("td",{children:[" ",null==e?void 0:e.updatedAt]}),(0,l.jsxs)("td",{children:[" ",null==e?void 0:e.createdAt]}),(0,l.jsxs)("td",{className:"flex space-x-1",children:[(0,l.jsx)("button",{className:"btn btn-xs rounded-[5px] capitalize",onClick:()=>{P(e),_(!0)},children:"Update"}),(0,l.jsx)("button",{className:"btn btn-xs rounded-[5px] capitalize",onClick:()=>{A(e._id)},disabled:y===e._id,children:y===e._id?"Creating...":"Create Project"}),(0,l.jsx)("button",{className:"btn btn-xs rounded-[5px] capitalize btn-error",disabled:f===(null==e?void 0:e._id),onClick:()=>{N(null==e?void 0:e._id)},children:f===e._id?"Deleting...":"Delete"})]})]},a)))})]})})]})]}),(0,l.jsx)("dialog",{id:"my_modal_2",className:"modal rounded-none ".concat(r?"modal-open":""),children:(0,l.jsxs)("form",{method:"dialog",className:"modal-box w-11/12 max-w-7xl rounded-none dark:bg-slate-700 bg-slate-100",children:[(0,l.jsx)("h3",{className:"font-bold text-lg dark:text-gray-400 text-black",children:"Create a new Dockerfile"}),(0,l.jsxs)("div",{className:"py-4",children:[(0,l.jsxs)("label",{className:"block",children:[(0,l.jsx)("span",{className:"text-gray-700 dark:text-slate-400",children:"Name*"}),(0,l.jsx)("input",{type:"text",className:"input input-sm input-bordered mt-1 block w-full rounded-none bg-white dark:bg-slate-800 text-black dark:text-white",placeholder:"Enter name",value:m,onChange:e=>x(e.target.value)})]}),(0,l.jsxs)("label",{className:"block mt-5",children:[(0,l.jsx)("span",{className:"text-gray-700 dark:text-slate-400",children:"Editor*"}),(0,l.jsx)(g.ZP,{className:"w-auto h-[40vh] rounded-md ",language:"dockerfile",defaultValue:u,onChange:e=>{localStorage.setItem("dockerfile_date",e),h(e)},value:u})]})]}),(0,l.jsxs)("div",{className:"modal-action",children:[(0,l.jsx)("button",{className:"btn btn-sm rounded-[5px] capitalize",onClick:()=>i(!1),children:"Close"}),(0,l.jsx)("button",{className:"btn btn-sm rounded-[5px] btn-success capitalize",onClick:()=>b(),disabled:v,children:"Create Dockerfile"})]})]})}),(0,l.jsx)("dialog",{id:"my_modal_4",className:"modal rounded-none ".concat(C?"modal-open":""),children:(0,l.jsxs)("form",{method:"dialog",className:"modal-box w-11/12 max-w-7xl rounded-none dark:bg-slate-700 bg-slate-100",children:[(0,l.jsx)("h3",{className:"font-bold text-lg dark:text-gray-400 text-black",children:"Update Dockerfile"}),(0,l.jsxs)("div",{className:"py-4",children:[(0,l.jsxs)("label",{className:"block",children:[(0,l.jsx)("span",{className:"text-gray-700 dark:text-slate-400",children:"Name*"}),(0,l.jsx)("input",{type:"text",className:"input input-sm input-bordered mt-1 block w-full rounded-none bg-white dark:bg-slate-800 text-black dark:text-white",placeholder:"Enter name",value:null==I?void 0:I.name,onChange:e=>x(e.target.value)})]}),(0,l.jsxs)("label",{className:"block mt-5",children:[(0,l.jsx)("span",{className:"text-gray-700 dark:text-slate-400",children:"Editor*"}),(0,l.jsx)(g.ZP,{className:"w-auto h-[40vh] rounded-md ",language:"dockerfile",defaultValue:null==I?void 0:I.value,onChange:e=>{U(e)},value:null==I?void 0:I.value})]})]}),(0,l.jsxs)("div",{className:"modal-action",children:[(0,l.jsx)("button",{className:"btn btn-sm rounded-[5px] capitalize",onClick:()=>_(!1),children:"Close"}),(0,l.jsx)("button",{className:"btn btn-sm rounded-[5px] btn-success capitalize",onClick:()=>L(),disabled:S,children:S?"Updating...":"Update Dockerfile"})]})]})})]})}var k=t(20357);function N(){let e=(0,o.useRouter)(),[a,t]=(0,s.useState)(!1),[r,i]=(0,s.useState)("");async function c(){t(!0),await d.Z.post("".concat(k.env.NEXT_PUBLIC_API_URL,"/v1/devops/create-project"),{context:{type:"public_git",context:r},name:"Text"},{headers:{Authorization:"".concat(localStorage.getItem("token"))}}).then(a=>{var l;console.log(a.data),t(!1),e.push("/console/devops/deploy?ProjectID=".concat(null===(l=a.data)||void 0===l?void 0:l.ImportedID)),(0,n.Am)(a.data.message,{type:"success"})}).catch(e=>{var a,l;console.log(e),t(!1),(0,n.Am)(null===(l=e.response)||void 0===l?void 0:null===(a=l.data)||void 0===a?void 0:a.message,{type:"error"})})}return(0,l.jsx)("div",{className:"dark:bg-slate-800 bg-slate-200 h-full w-full relative",children:(0,l.jsx)("div",{className:"h-auto overflow-y-scroll inset-0 relative max-h-[73vh]",children:(0,l.jsx)("div",{className:"w-auto relative h-full overflow-y-scroll max-h-[73vh]",children:(0,l.jsx)("div",{className:"join join-vertical w-full rounded-none",children:(0,l.jsxs)("div",{className:"collapse collapse-arrow join-item border dark:border-base-300 border-blue-200 bg-white dark:bg-slate-900",children:[(0,l.jsx)("input",{type:"radio",name:"my-accordion-1",checked:"checked"}),(0,l.jsx)("div",{className:"collapse-title text-xl font-medium dark:text-gray-400 text-black",children:"Import third-party git repository"}),(0,l.jsx)("div",{className:"collapse-content flex flex-col dark:text-gray-400 text-black",children:(0,l.jsxs)("div",{className:"flex flex-col items-start justify-start pt-5 pb-6 w-full bg-slate-50 dark:bg-transparent p-5 rounded-md",children:[(0,l.jsxs)("div",{className:"w-full mt-2",children:[(0,l.jsx)("div",{className:"avatar",children:(0,l.jsx)("div",{className:"w-10 rounded-full ring ring-offset-base-100 ring-offset-2 p-2",children:(0,l.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/25/25231.png"})})}),(0,l.jsx)("div",{className:"avatar ml-5",children:(0,l.jsx)("div",{className:"w-10 rounded-full ring ring-offset-base-100 ring-offset-2 p-2",children:(0,l.jsx)("img",{src:"https://cdn.icon-icons.com/icons2/2415/PNG/512/gitlab_original_logo_icon_146503.png"})})}),(0,l.jsx)("div",{className:"avatar ml-5",children:(0,l.jsx)("div",{className:"w-10 rounded-full ring ring-offset-base-100 ring-offset-2 p-2",children:(0,l.jsx)("img",{src:"https://cdn4.iconfinder.com/data/icons/logos-and-brands/512/44_Bitbucket_logo_logos-512.png"})})})]}),(0,l.jsx)("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400 w-full justify-start mt-5",children:"Enter the URL of a public Git repository to deploy it:"}),(0,l.jsx)("input",{type:"text",value:r,onChange:e=>{i(e.target.value)},placeholder:"https://github.com/dauqu/news_backend.git",className:"input w-full rounded-sm bg-slate-50 dark:bg-transparent input-bordered border-blue-600"}),(0,l.jsx)("button",{className:"mt-5 btn rounded-md btn-wide btn-md dark:btn-info disabled:bg-slate-500 disabled:text-slate-200 no-animation capitalize",disabled:a,onClick:()=>{c()},children:!0!==a?"Create Project":"Creating..."})]})})]})})})})})}function y(e){let a;e.params.id;let t=(0,o.useRouter)(),n=(0,o.useSearchParams)().get("tab"),[d,r]=(0,s.useState)(n||"projects");switch(d){case"git":a=(0,l.jsx)(u,{});break;case"repositories":a=(0,l.jsx)(v,{});break;case"upload":a=(0,l.jsx)(b,{});break;case"projects":default:a=(0,l.jsx)(i,{});break;case"dockerfile":a=(0,l.jsx)(f,{});break;case"third-party":a=(0,l.jsx)(N,{})}return(0,s.useEffect)(()=>{n&&r(n)},[n]),(0,s.useEffect)(()=>{(null==n||""===n)&&t.push("/console/devops/?tab=projects",void 0,{shallow:!0})},[]),(0,l.jsx)("div",{className:"flex w-auto flex-col h-auto absolute inset-0 bottom-2 top-2 ml-2 mr-2 dark:bg-slate-900",children:(0,l.jsx)("blockquote",{className:"bg-white border-l-[5px] border-blue-600 dark:border-gray-500 dark:bg-gray-900 relative h-full",children:(0,l.jsxs)("div",{className:"h-full relative dark:bg-slate-900 p-2 flex flex-col justify-between",children:[(0,l.jsxs)("div",{className:"flex flex-col justify-between items-start h-[50px]",children:[(0,l.jsx)("h1",{className:"text-xl font-bold dark:text-gray-400 text-black",children:"Daucu Devops"}),(0,l.jsx)("span",{className:"text dark:text-gray-400 text-black text-xs",children:"Daucu DevOps as a Service (DaaS) streamlines software development and operations, promoting collaboration, automation, and faster, more reliable releases."})]}),(0,l.jsxs)("div",{className:"h-full mt-5 flex",children:[(0,l.jsx)("div",{className:"row-span-9 col-span-10 dark:bg-slate-800 border-t-[5px] border-blue-600 dark:border-gray-500 mr-2 min-w-[300px] bg-slate-200",children:(0,l.jsxs)("ul",{className:"menu rounded-sm dark:text-gray-400 text-black",children:[(0,l.jsx)("li",{className:"menu-title dark:text-gray-400 text-black",children:"Projects"})," ",(0,l.jsxs)("button",{className:"rounded-sm dark:text-gray-400 text-black flex justify-start btn-will hover:bg-slate-300 dark:hover:bg-slate-700 p-2 ".concat("projects"==d?"border-l-4 border-blue-600 border":"border-l-4 border-transparent border"),onClick:()=>{t.push("/console/devops/?tab=projects")},children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-collection mr-2",viewBox:"0 0 16 16",children:(0,l.jsx)("path",{d:"M2.5 3.5a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-11zm2-2a.5.5 0 0 1 0-1h7a.5.5 0 0 1 0 1h-7zM0 13a1.5 1.5 0 0 0 1.5 1.5h13A1.5 1.5 0 0 0 16 13V6a1.5 1.5 0 0 0-1.5-1.5h-13A1.5 1.5 0 0 0 0 6v7zm1.5.5A.5.5 0 0 1 1 13V6a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-13z"})}),"All Projects"]}),(0,l.jsx)("li",{className:"menu-title dark:text-gray-400 text-black",children:"Create Project"})," ",(0,l.jsxs)("button",{className:"rounded-sm dark:text-gray-400 text-black flex justify-start btn-will hover:bg-slate-300 dark:hover:bg-slate-700 p-2 ".concat("upload"==d?"border-l-4 border-blue-600 border":"border-l-4 border-transparent border"),onClick:()=>{t.push("/console/devops/?tab=upload")},children:[(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-upload mr-2",viewBox:"0 0 16 16",children:[(0,l.jsx)("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"}),(0,l.jsx)("path",{d:"M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"})]}),"Upload File"]}),(0,l.jsxs)("button",{className:"rounded-sm dark:text-gray-400 text-black flex justify-start btn-will hover:bg-slate-300 dark:hover:bg-slate-700 p-2 ".concat("dockerfile"==d?"border-l-4 border-blue-600 border":"border-l-4 border-transparent border"),onClick:()=>{t.push("/console/devops/?tab=dockerfile")},children:[(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-file-earmark-binary mr-2",viewBox:"0 0 16 16",children:[(0,l.jsx)("path",{d:"M7.05 11.885c0 1.415-.548 2.206-1.524 2.206C4.548 14.09 4 13.3 4 11.885c0-1.412.548-2.203 1.526-2.203.976 0 1.524.79 1.524 2.203zm-1.524-1.612c-.542 0-.832.563-.832 1.612 0 .088.003.173.006.252l1.559-1.143c-.126-.474-.375-.72-.733-.72zm-.732 2.508c.126.472.372.718.732.718.54 0 .83-.563.83-1.614 0-.085-.003-.17-.006-.25l-1.556 1.146zm6.061.624V14h-3v-.595h1.181V10.5h-.05l-1.136.747v-.688l1.19-.786h.69v3.633h1.125z"}),(0,l.jsx)("path",{d:"M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"})]}),"Dockerfile"]}),(0,l.jsxs)("button",{className:"rounded-sm dark:text-gray-400 text-black flex justify-start btn-will hover:bg-slate-300 dark:hover:bg-slate-700 p-2 ".concat("repositories"==d?"border-l-4 border-blue-600 border":"border-l-4 border-transparent border"),onClick:()=>{t.push("/console/devops/?tab=repositories")},children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-diagram-3 mr-2",viewBox:"0 0 16 16",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M6 3.5A1.5 1.5 0 0 1 7.5 2h1A1.5 1.5 0 0 1 10 3.5v1A1.5 1.5 0 0 1 8.5 6v1H14a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0v-1A.5.5 0 0 1 2 7h5.5V6A1.5 1.5 0 0 1 6 4.5v-1zM8.5 5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1zM0 11.5A1.5 1.5 0 0 1 1.5 10h1A1.5 1.5 0 0 1 4 11.5v1A1.5 1.5 0 0 1 2.5 14h-1A1.5 1.5 0 0 1 0 12.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zm4.5.5A1.5 1.5 0 0 1 7.5 10h1a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 8.5 14h-1A1.5 1.5 0 0 1 6 12.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zm4.5.5a1.5 1.5 0 0 1 1.5-1.5h1a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1-1.5 1.5h-1a1.5 1.5 0 0 1-1.5-1.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1z"})}),"Repositories"]}),(0,l.jsxs)("button",{className:"rounded-sm dark:text-gray-400 text-black flex justify-start btn-will hover:bg-slate-300 dark:hover:bg-slate-700 p-2 ".concat("third-party"==d?"border-l-4 border-blue-600 border":"border-l-4 border-transparent border"),onClick:()=>{t.push("/console/devops/?tab=third-party")},children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-git mr-2",viewBox:"0 0 16 16",children:(0,l.jsx)("path",{d:"M15.698 7.287 8.712.302a1.03 1.03 0 0 0-1.457 0l-1.45 1.45 1.84 1.84a1.223 1.223 0 0 1 1.55 1.56l1.773 1.774a1.224 1.224 0 0 1 1.267 2.025 1.226 1.226 0 0 1-2.002-1.334L8.58 5.963v4.353a1.226 1.226 0 1 1-1.008-.036V5.887a1.226 1.226 0 0 1-.666-1.608L5.093 2.465l-4.79 4.79a1.03 1.03 0 0 0 0 1.457l6.986 6.986a1.03 1.03 0 0 0 1.457 0l6.953-6.953a1.031 1.031 0 0 0 0-1.457"})}),"Third Party"]}),(0,l.jsx)("li",{className:"menu-title dark:text-gray-400 text-black",children:"Settings"})," ",(0,l.jsxs)("button",{className:"rounded-sm dark:text-gray-400 text-black flex justify-start btn-will hover:bg-slate-300 dark:hover:bg-slate-700 p-2 ".concat("git"==d?"border-l-4 border-blue-600 border":"border-l-4 border-transparent border"),onClick:()=>{t.push("/console/devops/?tab=git")},children:[(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-nut mr-2",viewBox:"0 0 16 16",children:[(0,l.jsx)("path",{d:"m11.42 2 3.428 6-3.428 6H4.58L1.152 8 4.58 2zM4.58 1a1 1 0 0 0-.868.504l-3.428 6a1 1 0 0 0 0 .992l3.428 6A1 1 0 0 0 4.58 15h6.84a1 1 0 0 0 .868-.504l3.429-6a1 1 0 0 0 0-.992l-3.429-6A1 1 0 0 0 11.42 1z"}),(0,l.jsx)("path",{d:"M6.848 5.933a2.5 2.5 0 1 0 2.5 4.33 2.5 2.5 0 0 0-2.5-4.33zm-1.78 3.915a3.5 3.5 0 1 1 6.061-3.5 3.5 3.5 0 0 1-6.062 3.5z"})]}),"Settings"]})]})}),(0,l.jsx)("div",{className:"dark:bg-slate-800 bg-slate-200 border-blue-600 w-full h-auto p-2 rounded-sm border-t-[5px] dark:border-gray-500",children:a})]})]})})})}}},function(e){e.O(0,[6990,147,5956,7270,2971,7023,1744],function(){return e(e.s=24859)}),_N_E=e.O()}]);
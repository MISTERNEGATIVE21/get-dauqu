(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8943],{2045:function(e,a,t){Promise.resolve().then(t.bind(t,70903))},16463:function(e,a,t){"use strict";var s=t(71169);t.o(s,"usePathname")&&t.d(a,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(a,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(a,{useSearchParams:function(){return s.useSearchParams}})},70903:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return c}});var s=t(57437),n=t(2265),l=t(42126),r=t(95956),i=t(16463),d=t(20357);function c(e){let a=(0,i.useRouter)(),[t,c]=(0,n.useState)(!0),[o,u]=(0,n.useState)([]);async function m(){c(!0);try{await l.Z.get("".concat(d.env.NEXT_PUBLIC_API_URL,"/v1/cr/registries"),{headers:{"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("token"))}}).then(e=>{var a;u(null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.data),c(!1)}).catch(e=>{var a,t;c(!1),(0,r.Am)(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})})}catch(e){setTimeout(()=>{var a,t;c(!1),(0,r.Am)(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})},1e3)}}let[x,h]=(0,n.useState)(!1),[b,g]=(0,n.useState)(""),[v,p]=(0,n.useState)("20"),[j,k]=(0,n.useState)(""),[y,N]=(0,n.useState)(""),[f,w]=(0,n.useState)(!1);async function C(){w(!0),await l.Z.post("".concat(d.env.NEXT_PUBLIC_API_URL,"/v1/cr/create"),{name:b,size:v,username:j,password:y},{headers:{Authorization:"".concat(localStorage.getItem("token"))}}).then(e=>{var a;w(!1),(0,r.Am)(null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.message,{type:"success"}),m(),h(!1)}).catch(e=>{var a,t;console.log(e),w(!1),(0,r.Am)(null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message,{type:"error"})})}let[_,S]=(0,n.useState)(null);async function A(e){S(e),await l.Z.delete("".concat(d.env.NEXT_PUBLIC_API_URL,"/v1/cr/delete/").concat(e),{headers:{Authorization:"".concat(localStorage.getItem("token"))}}).then(e=>{(0,r.Am)(e.data.message,{type:"success"}),S(""),m()}).catch(e=>{console.log(e),S(""),(0,r.Am)(e.response.data.message,{type:"error"}),m()})}return(0,n.useEffect)(()=>{m()},[]),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"flex w-auto h-full flex-col",children:(0,s.jsx)("blockquote",{className:"bg-gray-100 border-blue-600 border-l-[5px] dark:border-gray-500 dark:bg-gray-800",children:(0,s.jsxs)("div",{className:"h-auto dark:bg-slate-900 p-3 space-y-3",children:[(0,s.jsxs)("div",{className:"flex flex-col justify-between items-start space-y-2",children:[(0,s.jsx)("h1",{className:"text-xl font-bold dark:text-gray-400 text-black",children:"Container Registery"}),(0,s.jsx)("span",{className:"text dark:text-gray-400 text-black text-xs",children:"A Container Registry service simplifies container image storage and distribution, supporting Docker and Kubernetes environments. It provides a secure, efficient way to manage container images, ensuring seamless deployment and scalability while focusing on core application development."})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{className:"btn btn-sm rounded-sm no-animation capitalize dark:btn-info",onClick:()=>{h(!0)},children:"New Container Registery"})}),(0,s.jsx)("div",{className:"max-h-[75vh] overflow-y-scroll",children:t?(0,s.jsx)("div",{className:"animate-pulse flex space-x-4",children:(0,s.jsxs)("div",{className:"flex-1 space-y-4 py-1",children:[(0,s.jsx)("div",{className:"h-4 bg-slate-400 rounded w-3/4"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"h-4 bg-slate-400 rounded"}),(0,s.jsx)("div",{className:"h-4 bg-slate-400 rounded w-5/6"})]})]})}):(0,s.jsx)("div",{children:null===o||(null==o?void 0:o.length)===0?(0,s.jsx)("div",{className:"h-[20vh] w-full flex justify-center items-center",children:(0,s.jsxs)("p",{className:"text-md font-bold dark:text-gray-400 text-black",children:["No container registry found. Create a new container registry to get started."," "]})}):(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"table table-sm",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"dark:bg-slate-700 dark:text-gray-400 text-black bg-slate-200",children:[(0,s.jsx)("th",{}),(0,s.jsx)("th",{children:"Name"}),(0,s.jsx)("th",{children:"label"}),(0,s.jsx)("th",{children:"Size"}),(0,s.jsx)("th",{children:"Created AT"}),(0,s.jsx)("th",{children:"Action"})]})}),(0,s.jsx)("tbody",{children:o&&null!==o&&(null==o?void 0:o.map((e,t)=>(0,s.jsxs)("tr",{className:"dark:bg-slate-700 dark:text-gray-400 text-black bg-slate-200",children:[(0,s.jsx)("th",{children:"1"}),(0,s.jsx)("td",{children:null==e?void 0:e.name}),(0,s.jsx)("td",{children:null==e?void 0:e.label}),(0,s.jsxs)("td",{children:[null==e?void 0:e.size," GB ",(0,s.jsx)("br",{})]}),(0,s.jsx)("td",{children:null==e?void 0:e.createdAt}),(0,s.jsxs)("td",{className:"space-x-1",children:[(0,s.jsx)("button",{className:"btn btn-xs rounded-none btn-error no-animation",disabled:_===(null==e?void 0:e.label),onClick:()=>{S(null==e?void 0:e.label),A(null==e?void 0:e.label)},children:"Delete"}),(0,s.jsx)("button",{className:"btn btn-xs rounded-none no-animation",onClick:()=>{a.push("/console/container-registry/".concat(null==e?void 0:e._id))},children:"View â†’"})]})]},t)))})]})})})})})]})})}),(0,s.jsx)("dialog",{id:"my_modal_4",className:"modal rounded-none ".concat(x?"modal-open":""),children:(0,s.jsxs)("form",{method:"dialog",className:"modal-box w-11/12 max-w-5xl rounded-none dark:bg-slate-700 bg-slate-100",children:[(0,s.jsx)("h3",{className:"font-bold text-lg dark:text-gray-400 text-black",children:"Create a new registry"}),(0,s.jsxs)("div",{className:"py-4",children:[(0,s.jsxs)("label",{className:"block",children:[(0,s.jsx)("span",{className:"text-gray-700 dark:text-slate-400",children:"Name*"}),(0,s.jsx)("input",{type:"text",className:"input input-sm input-bordered mt-1 block w-full rounded-none bg-slate-200 dark:bg-slate-800 text-black dark:text-white",placeholder:"Enter registry name",value:b,onChange:e=>g(e.target.value)})]}),(0,s.jsxs)("label",{className:"block mt-5",children:[(0,s.jsx)("span",{className:"text-gray-700 dark:text-slate-400",children:"Size (GB)*"}),(0,s.jsx)("input",{type:"number",className:"input input-sm input-bordered mt-1 block w-full rounded-none bg-slate-200 dark:bg-slate-800 text-black dark:text-white",placeholder:"Enter disk name",value:v,onChange:e=>p(e.target.value)})]}),(0,s.jsxs)("label",{className:"block mt-5",children:[(0,s.jsx)("span",{className:"text-gray-700 dark:text-slate-400",children:"Username*"}),(0,s.jsx)("input",{type:"text",className:"input input-sm input-bordered mt-1 block w-full rounded-none bg-slate-200 dark:bg-slate-800 text-black dark:text-white",placeholder:"Enter username",value:j,onChange:e=>k(e.target.value)})]}),(0,s.jsxs)("label",{className:"block mt-5",children:[(0,s.jsx)("span",{className:"text-gray-700 dark:text-slate-400",children:"Password*"}),(0,s.jsx)("input",{type:"text",className:"input input-sm input-bordered mt-1 block w-full rounded-none bg-slate-200 dark:bg-slate-800 text-black dark:text-white",placeholder:"Enter password",value:y,onChange:e=>N(e.target.value)})]})]}),(0,s.jsxs)("div",{className:"modal-action",children:[(0,s.jsx)("button",{className:"btn btn-sm rounded-sm capitalize",onClick:()=>h(!1),children:"Close"}),(0,s.jsx)("button",{className:"btn btn-sm rounded-sm btn-success capitalize",onClick:()=>{C()},disabled:f,children:f?"Creating Registry...":"Create Registry"})]})]})})]})}}},function(e){e.O(0,[147,5956,2971,7023,1744],function(){return e(e.s=2045)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4101],{96374:function(e,a,s){Promise.resolve().then(s.bind(s,96639))},16463:function(e,a,s){"use strict";var t=s(71169);s.o(t,"usePathname")&&s.d(a,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(a,{useSearchParams:function(){return t.useSearchParams}})},96639:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return c}});var t=s(57437),n=s(2265),l=s(42126),r=s(95956),d=s(16463),o=s(20357);function c(e){let a=(0,d.useRouter)(),[s,c]=(0,n.useState)(!1),[i,u]=(0,n.useState)([]);async function h(){c(!0);try{await l.Z.get("".concat(o.env.NEXT_PUBLIC_API_URL,"/v1/disk/get-my-disk"),{headers:{"Content-Type":"application/json",Authorization:"".concat(localStorage.getItem("token"))}}).then(e=>{console.log(e.data),u(e.data),c(!1)}).catch(e=>{console.log(e),c(!1),(0,r.Am)(e.response.data.message,{type:"error"})})}catch(e){setTimeout(()=>{var a,s;c(!1),(0,r.Am)(null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message,{type:"error"})},1e3)}}let[x,m]=(0,n.useState)(!1),[b,g]=(0,n.useState)(""),[j,p]=(0,n.useState)("ap-south-1"),[v,k]=(0,n.useState)("20"),[N,f]=(0,n.useState)(!1);async function y(){f(!0),await l.Z.post("".concat(o.env.NEXT_PUBLIC_API_URL,"/v1/disk/create-disk"),{label:b,region:j,size:v},{headers:{Authorization:"".concat(localStorage.getItem("token"))}}).then(e=>{f(!1),(0,r.Am)(e.data.message,{type:"success"}),m(!1),h()}).catch(e=>{console.log(e),f(!1),(0,r.Am)(e.response.data.message,{type:"error"}),h()})}return(0,n.useEffect)(()=>{h()},[]),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex w-auto h-full flex-col",children:(0,t.jsx)("blockquote",{className:"bg-gray-100 border-l-[5px] border-blue-600 dark:border-gray-500 dark:bg-gray-800",children:(0,t.jsxs)("div",{className:"h-auto dark:bg-slate-900 p-3",children:[(0,t.jsxs)("div",{className:"flex flex-col justify-between items-start h-[50px]",children:[(0,t.jsx)("h1",{className:"text-xl font-bold dark:text-gray-400 text-black",children:"MongoDB Cluster"}),(0,t.jsx)("span",{className:"text dark:text-gray-400 text-black text-xs",children:"A Managed MongoDB Database service offers hassle-free, cloud-based MongoDB hosting and administration. It handles infrastructure provisioning, backups, high availability, security, and scaling, allowing businesses to focus on their applications and data rather than database management."})]}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{className:"btn btn-sm mt-2 rounded-none no-animation capitalize dark:btn-info",onClick:()=>{m(!0)},children:"New Cluster"})}),(0,t.jsx)("div",{className:"max-h-[75vh] mt-5 overflow-y-scroll",children:s?(0,t.jsx)("div",{className:"animate-pulse flex space-x-4",children:(0,t.jsxs)("div",{className:"flex-1 space-y-4 py-1",children:[(0,t.jsx)("div",{className:"h-4 bg-slate-400 rounded w-3/4"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-4 bg-slate-400 rounded"}),(0,t.jsx)("div",{className:"h-4 bg-slate-400 rounded w-5/6"})]})]})}):(0,t.jsx)("div",{children:null===i||(null==i?void 0:i.length)===0?(0,t.jsx)("div",{className:"h-[20vh] w-full flex justify-center items-center",children:(0,t.jsxs)("p",{className:"text-md font-bold dark:text-gray-400 text-black",children:["No Disk found. Create a new disk to get started."," "]})}):(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"table table-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"dark:bg-slate-700 dark:text-gray-400 text-black bg-slate-200",children:[(0,t.jsx)("th",{}),(0,t.jsx)("th",{children:"Name"}),(0,t.jsx)("th",{children:"Region"}),(0,t.jsx)("th",{children:"Size"}),(0,t.jsx)("th",{children:"Created AT"}),(0,t.jsx)("th",{children:"Action"})]})}),(0,t.jsx)("tbody",{children:i&&null!==i&&(null==i?void 0:i.map((e,s)=>(0,t.jsxs)("tr",{className:"dark:bg-slate-700 dark:text-gray-400 text-black bg-slate-200",children:[(0,t.jsx)("th",{children:"1"}),(0,t.jsx)("td",{children:null==e?void 0:e.label}),(0,t.jsx)("td",{children:null==e?void 0:e.region}),(0,t.jsxs)("td",{children:[null==e?void 0:e.size," GB SSD ",(0,t.jsx)("br",{})]}),(0,t.jsx)("td",{children:null==e?void 0:e.created_at}),(0,t.jsxs)("td",{children:[(0,t.jsx)("button",{className:"btn btn-xs rounded-none btn-error no-animation",children:"Delete"}),(0,t.jsx)("button",{className:"btn btn-xs rounded-none no-animation",onClick:()=>{a.push("/console/postgresql/".concat(null==e?void 0:e.label))},children:"View â†’"})]})]},s)))})]})})})})})]})})}),(0,t.jsx)("dialog",{id:"my_modal_4",className:"modal rounded-none ".concat(x?"modal-open":""),children:(0,t.jsxs)("form",{method:"dialog",className:"modal-box w-11/12 max-w-5xl rounded-none dark:bg-slate-700 bg-slate-100",children:[(0,t.jsx)("h3",{className:"font-bold text-lg dark:text-gray-400 text-black",children:"Create a new disk"}),(0,t.jsxs)("div",{className:"py-4",children:[(0,t.jsxs)("label",{className:"block",children:[(0,t.jsx)("span",{className:"text-gray-700 dark:text-slate-400",children:"Name*"}),(0,t.jsx)("input",{type:"text",className:"input input-sm input-bordered mt-1 block w-full rounded-none",placeholder:"Enter disk name",value:b,onChange:e=>g(e.target.value)})]}),(0,t.jsxs)("label",{className:"block mt-5",children:[(0,t.jsx)("span",{className:"text-gray-700 dark:text-slate-400",children:"Size (GB)*"}),(0,t.jsx)("input",{type:"number",className:"input input-sm input-bordered mt-1 block w-full rounded-none",placeholder:"Enter disk name",value:v,onChange:e=>k(e.target.value)})]}),(0,t.jsxs)("label",{className:"block mt-5",children:[(0,t.jsx)("span",{className:"text-gray-700 dark:text-slate-400",children:"Region*"}),(0,t.jsx)("select",{className:"select select-bordered select-sm w-full rounded-none",value:j,onChange:e=>p(e.target.value),children:(0,t.jsx)("option",{value:"ap-south-1",children:"Mumbai (India)"})})]})]}),(0,t.jsxs)("div",{className:"modal-action",children:[(0,t.jsx)("button",{className:"btn btn-sm rounded-none",onClick:()=>m(!1),children:"Close"}),(0,t.jsx)("button",{className:"btn btn-sm rounded-none btn-success",onClick:()=>{y()},disabled:N,children:N?"Creating Disk...":"Create Disk"})]})]})})]})}}},function(e){e.O(0,[147,5956,2971,7023,1744],function(){return e(e.s=96374)}),_N_E=e.O()}]);